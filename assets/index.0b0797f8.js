var Tr=Object.defineProperty,kr=Object.defineProperties;var Ar=Object.getOwnPropertyDescriptors;var at=Object.getOwnPropertySymbols;var dn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable;var fn=(n,e,t)=>e in n?Tr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S=(n,e)=>{for(var t in e||(e={}))dn.call(e,t)&&fn(n,t,e[t]);if(at)for(var t of at(e))pn.call(e,t)&&fn(n,t,e[t]);return n},K=(n,e)=>kr(n,Ar(e));var mn=(n,e)=>{var t={};for(var r in n)dn.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&at)for(var r of at(n))e.indexOf(r)<0&&pn.call(n,r)&&(t[r]=n[r]);return t};const xr=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}};xr();const T={};function Ge(n){T.context=n}const Rr=(n,e)=>n===e,ne=Symbol("solid-proxy"),Kt=Symbol("solid-track"),gt={equals:Rr};let jn=Ln;const Ne={},be=1,yt=2,In={owned:null,cleanups:null,context:null,owner:null},[Cr,hc]=q(!1);var R=null;let et=null,x=null,qe=null,G=null,Q=null,Xt=0;function ke(n,e){const t=x,r=R,s=n.length===0?In:{owned:null,cleanups:null,context:null,owner:e||r};R=s,x=null;try{return Ot(()=>n(()=>Qt(s)),!0)}finally{x=t,R=r}}function q(n,e){e=e?Object.assign({},gt,e):gt;const t={value:n,observers:null,observerSlots:null,pending:Ne,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(t.pending!==Ne?t.pending:t.value)),Zt(t,s));return[Un.bind(t),r]}function vt(n,e,t){const r=Et(n,e,!0,be);Le(r)}function ie(n,e,t){const r=Et(n,e,!1,be);Le(r)}function Pr(n,e,t){jn=Fr;const r=Et(n,e,!1,be);r.user=!0,Q?Q.push(r):Le(r)}function D(n,e,t){t=t?Object.assign({},gt,t):gt;const r=Et(n,e,!0,0);return r.pending=Ne,r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,Le(r),Un.bind(r)}function jr(n,e,t){arguments.length===2?typeof e=="object"&&(t=e,e=n,n=!0):arguments.length===1&&(e=n,n=!0),t||(t={});const r=new Set,[s,i]=q(t.initialValue),[o,a]=q(void 0,{equals:!1}),[l,u]=q(!1),[c,h]=q();let d,p=null,m=null,y=null,b=!1,C="initialValue"in t,I=typeof n=="function"&&D(n);T.context&&(y=`${T.context.id}${T.context.count++}`,T.load&&(m=T.load(y)));function P(w,v,E,W){return p===w&&(p=null,C=!0,m&&(w===m||v===m)&&t.onHydrated&&queueMicrotask(()=>t.onHydrated(W,{value:v})),m=null,h(d=E),M(v)),v}function M(w){oe(()=>{i(()=>w),u(!1);for(const v of r.keys())v.decrement();r.clear()})}function F(){const w=Lr,v=s();if(d)throw d;return x&&!x.user&&w&&vt(()=>{o(),p&&(w.resolved||r.has(w)||(w.increment(),r.add(w)))}),v}function re(w){if(w&&b)return;b=!1,h(d=void 0);const v=I?I():n;if(v==null||v===!1){P(p,V(s));return}const E=m||V(()=>e(v,{value:s(),refetching:w}));return typeof E!="object"||!("then"in E)?(P(p,E),E):(p=E,b=!0,queueMicrotask(()=>b=!1),oe(()=>{u(!0),a()}),E.then(W=>P(E,W,void 0,v),W=>P(E,W,W)))}return Object.defineProperties(F,{loading:{get(){return l()}},error:{get(){return c()}},latest:{get(){if(!C)return F();if(d)throw d;return s()}}}),I?vt(()=>re(!1)):re(!1),[F,{refetch:re,mutate:i}]}function oe(n){if(qe)return n();let e;const t=qe=[];try{e=n()}finally{qe=null}return Ot(()=>{for(let r=0;r<t.length;r+=1){const s=t[r];if(s.pending!==Ne){const i=s.pending;s.pending=Ne,Zt(s,i)}}},!1),e}function V(n){let e,t=x;return x=null,e=n(),x=t,e}function Nn(n,e,t){const r=Array.isArray(n);let s,i=t&&t.defer;return o=>{let a;if(r){a=Array(n.length);for(let u=0;u<n.length;u++)a[u]=n[u]()}else a=n();if(i){i=!1;return}const l=V(()=>e(a,s,o));return s=a,l}}function fc(n){Pr(()=>V(n))}function ge(n){return R===null||(R.cleanups===null?R.cleanups=[n]:R.cleanups.push(n)),n}function Yt(){return x}function Ir(){return R}function Nr(n,e){const t=R;R=n;try{return Ot(e,!0)}finally{R=t}}function Dr(n){const e=x,t=R;return Promise.resolve().then(()=>{x=e,R=t;let r;return oe(n),x=R=null,r?r.done:void 0})}function Ur(){return[Cr,Dr]}function tt(n){const e=Symbol("context");return{id:e,Provider:zr(e),defaultValue:n}}function Ue(n){let e;return(e=Fn(R,n.id))!==void 0?e:n.defaultValue}function Dn(n){const e=D(n);return D(()=>Ut(e()))}let Lr;function Un(){const n=et;if(this.sources&&(this.state||n)){const e=G;G=null,this.state===be||n?Le(this):bt(this),G=e}if(x){const e=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(e)):(x.sources=[this],x.sourceSlots=[e]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function Zt(n,e,t){if(qe)return n.pending===Ne&&qe.push(n),n.pending=e,e;if(n.comparator&&n.comparator(n.value,e))return e;let r=!1;return n.value=e,n.observers&&n.observers.length&&Ot(()=>{for(let s=0;s<n.observers.length;s+=1){const i=n.observers[s];r&&et.disposed.has(i),(r&&!i.tState||!r&&!i.state)&&(i.pure?G.push(i):Q.push(i),i.observers&&Bn(i)),r||(i.state=be)}if(G.length>1e6)throw G=[],new Error},!1),e}function Le(n){if(!n.fn)return;Qt(n);const e=R,t=x,r=Xt;x=R=n,Br(n,n.value,r),x=t,R=e}function Br(n,e,t){let r;try{r=n.fn(e)}catch(s){Mn(s)}(!n.updatedAt||n.updatedAt<=t)&&(n.observers&&n.observers.length?Zt(n,r):n.value=r,n.updatedAt=t)}function Et(n,e,t,r,s){const i={fn:n,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:R,context:null,pure:t};return R===null||R!==In&&(R.owned?R.owned.push(i):R.owned=[i]),i}function Ve(n){const e=et;if(n.state===0||e)return;if(n.state===yt||e)return bt(n);if(n.suspense&&V(n.suspense.inFallback))return n.suspense.effects.push(n);const t=[n];for(;(n=n.owner)&&(!n.updatedAt||n.updatedAt<Xt);)(n.state||e)&&t.push(n);for(let r=t.length-1;r>=0;r--)if(n=t[r],n.state===be||e)Le(n);else if(n.state===yt||e){const s=G;G=null,bt(n,t[0]),G=s}}function Ot(n,e){if(G)return n();let t=!1;e||(G=[]),Q?t=!0:Q=[],Xt++;try{const r=n();return Mr(t),r}catch(r){Mn(r)}finally{G=null,t||(Q=null)}}function Mr(n){G&&(Ln(G),G=null),!n&&(Q.length?oe(()=>{jn(Q),Q=null}):Q=null)}function Ln(n){for(let e=0;e<n.length;e++)Ve(n[e])}function Fr(n){let e,t=0;for(e=0;e<n.length;e++){const s=n[e];s.user?n[t++]=s:Ve(s)}T.context&&Ge();const r=n.length;for(e=0;e<t;e++)Ve(n[e]);for(e=r;e<n.length;e++)Ve(n[e])}function bt(n,e){const t=et;n.state=0;for(let r=0;r<n.sources.length;r+=1){const s=n.sources[r];s.sources&&(s.state===be||t?s!==e&&Ve(s):(s.state===yt||t)&&bt(s,e))}}function Bn(n){const e=et;for(let t=0;t<n.observers.length;t+=1){const r=n.observers[t];(!r.state||e)&&(r.state=yt,r.pure?G.push(r):Q.push(r),r.observers&&Bn(r))}}function Qt(n){let e;if(n.sources)for(;n.sources.length;){const t=n.sources.pop(),r=n.sourceSlots.pop(),s=t.observers;if(s&&s.length){const i=s.pop(),o=t.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,t.observerSlots[r]=o)}}if(n.owned){for(e=0;e<n.owned.length;e++)Qt(n.owned[e]);n.owned=null}if(n.cleanups){for(e=0;e<n.cleanups.length;e++)n.cleanups[e]();n.cleanups=null}n.state=0,n.context=null}function Mn(n){throw n}function Fn(n,e){return n?n.context&&n.context[e]!==void 0?n.context[e]:Fn(n.owner,e):void 0}function Ut(n){if(typeof n=="function"&&!n.length)return Ut(n());if(Array.isArray(n)){const e=[];for(let t=0;t<n.length;t++){const r=Ut(n[t]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return n}function zr(n){return function(t){let r;return vt(()=>r=V(()=>(R.context={[n]:t.value},Dn(()=>t.children)))),r}}const Gr=Symbol("fallback");function gn(n){for(let e=0;e<n.length;e++)n[e]()}function Hr(n,e,t={}){let r=[],s=[],i=[],o=0,a=e.length>1?[]:null;return ge(()=>gn(i)),()=>{let l=n()||[],u,c;return l[Kt],V(()=>{let d=l.length,p,m,y,b,C,I,P,M,F;if(d===0)o!==0&&(gn(i),i=[],r=[],s=[],o=0,a&&(a=[])),t.fallback&&(r=[Gr],s[0]=ke(re=>(i[0]=re,t.fallback())),o=1);else if(o===0){for(s=new Array(d),c=0;c<d;c++)r[c]=l[c],s[c]=ke(h);o=d}else{for(y=new Array(d),b=new Array(d),a&&(C=new Array(d)),I=0,P=Math.min(o,d);I<P&&r[I]===l[I];I++);for(P=o-1,M=d-1;P>=I&&M>=I&&r[P]===l[M];P--,M--)y[M]=s[P],b[M]=i[P],a&&(C[M]=a[P]);for(p=new Map,m=new Array(M+1),c=M;c>=I;c--)F=l[c],u=p.get(F),m[c]=u===void 0?-1:u,p.set(F,c);for(u=I;u<=P;u++)F=r[u],c=p.get(F),c!==void 0&&c!==-1?(y[c]=s[u],b[c]=i[u],a&&(C[c]=a[u]),c=m[c],p.set(F,c)):i[u]();for(c=I;c<d;c++)c in y?(s[c]=y[c],i[c]=b[c],a&&(a[c]=C[c],a[c](c))):s[c]=ke(h);s=s.slice(0,o=d),r=l.slice(0)}return s});function h(d){if(i[c]=d,a){const[p,m]=q(c);return a[c]=m,e(l[c],p)}return e(l[c])}}}function O(n,e){return V(()=>n(e||{}))}function ct(){return!0}const zn={get(n,e,t){return e===ne?t:n.get(e)},has(n,e){return n.has(e)},set:ct,deleteProperty:ct,getOwnPropertyDescriptor(n,e){return{configurable:!0,enumerable:!0,get(){return n.get(e)},set:ct,deleteProperty:ct}},ownKeys(n){return n.keys()}};function jt(n){return(n=typeof n=="function"?n():n)==null?{}:n}function Jr(...n){return new Proxy({get(e){for(let t=n.length-1;t>=0;t--){const r=jt(n[t])[e];if(r!==void 0)return r}},has(e){for(let t=n.length-1;t>=0;t--)if(e in jt(n[t]))return!0;return!1},keys(){const e=[];for(let t=0;t<n.length;t++)e.push(...Object.keys(jt(n[t])));return[...new Set(e)]}},zn)}function Gn(n,...e){const t=new Set(e.flat()),r=Object.getOwnPropertyDescriptors(n),s=e.map(i=>{const o={};for(let a=0;a<i.length;a++){const l=i[a];Object.defineProperty(o,l,r[l]?r[l]:{get(){return n[l]},set(){return!0}})}return o});return s.push(new Proxy({get(i){return t.has(i)?void 0:n[i]},has(i){return t.has(i)?!1:i in n},keys(){return Object.keys(n).filter(i=>!t.has(i))}},zn)),s}function Be(n){let e,t;const r=s=>{const i=T.context;if(i){const[a,l]=q();(t||(t=n())).then(u=>{Ge(i),l(()=>u.default),Ge()}),e=a}else if(e){const a=e();if(a)return a(s)}else{const[a]=jr(()=>(t||(t=n())).then(l=>l.default));e=a}let o;return D(()=>(o=e())&&V(()=>{if(!i)return o(s);const a=T.context;Ge(i);const l=o(s);return Ge(a),l}))};return r.preload=()=>t||((t=n()).then(s=>e=()=>s.default),t),r}let qr=0;function dc(){const n=T.context;return n?`${n.id}${n.count++}`:`cl-${qr++}`}function pc(n){const e="fallback"in n&&{fallback:()=>n.fallback};return D(Hr(()=>n.each,n.children,e||void 0))}function en(n){let e=!1;const t=D(()=>n.when,void 0,{equals:(r,s)=>e?r===s:!r==!s});return D(()=>{const r=t();if(r){const s=n.children;return(e=typeof s=="function"&&s.length>0)?V(()=>s(r)):s}return n.fallback})}function mc(n){let e=!1;const t=Dn(()=>n.children),r=D(()=>{let s=t();Array.isArray(s)||(s=[s]);for(let i=0;i<s.length;i++){const o=s[i].when;if(o)return[i,o,s[i]]}return[-1]},void 0,{equals:(s,i)=>s[0]===i[0]&&(e?s[1]===i[1]:!s[1]==!i[1])&&s[2]===i[2]});return D(()=>{const[s,i,o]=r();if(s<0)return n.fallback;const a=o.children;return(e=typeof a=="function"&&a.length>0)?V(()=>a(i)):a})}function gc(n){return n}const Vr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Wr=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Vr]),Kr=new Set(["innerHTML","textContent","innerText","children"]),Xr={className:"class",htmlFor:"for"},yn={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Yr=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Zr=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Qr={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function yc(n,e){return D(n,void 0,e?void 0:{equals:e})}function es(n,e,t){let r=t.length,s=e.length,i=r,o=0,a=0,l=e[s-1].nextSibling,u=null;for(;o<s||a<i;){if(e[o]===t[a]){o++,a++;continue}for(;e[s-1]===t[i-1];)s--,i--;if(s===o){const c=i<r?a?t[a-1].nextSibling:t[i-a]:l;for(;a<i;)n.insertBefore(t[a++],c)}else if(i===a)for(;o<s;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[i-1]&&t[a]===e[s-1]){const c=e[--s].nextSibling;n.insertBefore(t[a++],e[o++].nextSibling),n.insertBefore(t[--i],c),e[s]=t[i]}else{if(!u){u=new Map;let h=a;for(;h<i;)u.set(t[h],h++)}const c=u.get(e[o]);if(c!=null)if(a<c&&c<i){let h=o,d=1,p;for(;++h<s&&h<i&&!((p=u.get(e[h]))==null||p!==c+d);)d++;if(d>c-a){const m=e[o];for(;a<c;)n.insertBefore(t[a++],m)}else n.replaceChild(t[a++],e[o++])}else o++;else e[o++].remove()}}}const vn="_$DX_DELEGATE";function ts(n,e,t){let r;return ke(s=>{r=s,e===document?n():Lt(e,n(),e.firstChild?null:void 0,t)}),()=>{r(),e.textContent=""}}function vc(n,e,t){const r=document.createElement("template");r.innerHTML=n;let s=r.content.firstChild;return t&&(s=s.firstChild),s}function ns(n,e=window.document){const t=e[vn]||(e[vn]=new Set);for(let r=0,s=n.length;r<s;r++){const i=n[r];t.has(i)||(t.add(i),e.addEventListener(i,ds))}}function rs(n,e,t){t==null?n.removeAttribute(e):n.setAttribute(e,t)}function ss(n,e,t,r){r==null?n.removeAttributeNS(e,t):n.setAttributeNS(e,t,r)}function is(n,e){e==null?n.removeAttribute("class"):n.className=e}function os(n,e,t,r){r?Array.isArray(t)?(n[`$$${e}`]=t[0],n[`$$${e}Data`]=t[1]):n[`$$${e}`]=t:Array.isArray(t)?n.addEventListener(e,s=>t[0](t[1],s)):n.addEventListener(e,t)}function as(n,e,t={}){const r=Object.keys(e||{}),s=Object.keys(t);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||e[a]||(bn(n,a,!1),delete t[a])}for(i=0,o=r.length;i<o;i++){const a=r[i],l=!!e[a];!a||a==="undefined"||t[a]===l||!l||(bn(n,a,!0),t[a]=l)}return t}function cs(n,e,t={}){const r=n.style,s=typeof t=="string";if(e==null&&s||typeof e=="string")return r.cssText=e;s&&(r.cssText=void 0,t={}),e||(e={});let i,o;for(o in t)e[o]==null&&r.removeProperty(o),delete t[o];for(o in e)i=e[o],i!==t[o]&&(r.setProperty(o,i),t[o]=i);return t}function ls(n,e,t,r){typeof e=="function"?ie(s=>wn(n,e(),s,t,r)):wn(n,e,void 0,t,r)}function Lt(n,e,t,r){if(t!==void 0&&!r&&(r=[]),typeof e!="function")return De(n,e,r,t);ie(s=>De(n,e(),s,t),r)}function us(n,e,t,r,s={},i){e||(e={});for(const o in s)if(!(o in e)){if(o==="children")continue;_n(n,o,null,s[o],t,i)}for(const o in e){if(o==="children"){r||De(n,e.children);continue}const a=e[o];s[o]=_n(n,o,a,s[o],t,i)}}function hs(n){let e,t;return!T.context||!(e=T.registry.get(t=ps()))?n.cloneNode(!0):(T.completed&&T.completed.add(e),T.registry.delete(t),e)}function fs(n){return n.toLowerCase().replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}function bn(n,e,t){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)n.classList.toggle(r[s],t)}function _n(n,e,t,r,s,i){let o,a,l;if(e==="style")return cs(n,t,r);if(e==="classList")return as(n,t,r);if(t===r)return r;if(e==="ref")i||t(n);else if(e.slice(0,3)==="on:")n.addEventListener(e.slice(3),t);else if(e.slice(0,10)==="oncapture:")n.addEventListener(e.slice(10),t,!0);else if(e.slice(0,2)==="on"){const u=e.slice(2).toLowerCase(),c=Yr.has(u);os(n,u,t,c),c&&ns([u])}else if((l=Kr.has(e))||!s&&(yn[e]||(a=Wr.has(e)))||(o=n.nodeName.includes("-")))e==="class"||e==="className"?is(n,t):o&&!a&&!l?n[fs(e)]=t:n[yn[e]||e]=t;else{const u=s&&e.indexOf(":")>-1&&Qr[e.split(":")[0]];u?ss(n,u,e,t):rs(n,Xr[e]||e,t)}return t}function ds(n){const e=`$$${n.type}`;let t=n.composedPath&&n.composedPath()[0]||n.target;for(n.target!==t&&Object.defineProperty(n,"target",{configurable:!0,value:t}),Object.defineProperty(n,"currentTarget",{configurable:!0,get(){return t||document}}),T.registry&&!T.done&&(T.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>r.remove()));t!==null;){const r=t[e];if(r&&!t.disabled){const s=t[`${e}Data`];if(s!==void 0?r(s,n):r(n),n.cancelBubble)return}t=t.host&&t.host!==t&&t.host instanceof Node?t.host:t.parentNode}}function wn(n,e,t={},r,s){return e||(e={}),!s&&"children"in e&&ie(()=>t.children=De(n,e.children,t.children)),e.ref&&e.ref(n),ie(()=>us(n,e,r,!0,t,!0)),t}function De(n,e,t,r,s){for(T.context&&!t&&(t=[...n.childNodes]);typeof t=="function";)t=t();if(e===t)return t;const i=typeof e,o=r!==void 0;if(n=o&&t[0]&&t[0].parentNode||n,i==="string"||i==="number"){if(T.context)return t;if(i==="number"&&(e=e.toString()),o){let a=t[0];a&&a.nodeType===3?a.data=e:a=document.createTextNode(e),t=_e(n,t,r,a)}else t!==""&&typeof t=="string"?t=n.firstChild.data=e:t=n.textContent=e}else if(e==null||i==="boolean"){if(T.context)return t;t=_e(n,t,r)}else{if(i==="function")return ie(()=>{let a=e();for(;typeof a=="function";)a=a();t=De(n,a,t,r)}),()=>t;if(Array.isArray(e)){const a=[];if(Bt(a,e,s))return ie(()=>t=De(n,a,t,r,!0)),()=>t;if(T.context){for(let l=0;l<a.length;l++)if(a[l].parentNode)return t=a}if(a.length===0){if(t=_e(n,t,r),o)return t}else Array.isArray(t)?t.length===0?Sn(n,a,r):es(n,t,a):(t&&_e(n),Sn(n,a));t=a}else if(e instanceof Node){if(T.context&&e.parentNode)return t=o?[e]:e;if(Array.isArray(t)){if(o)return t=_e(n,t,r,e);_e(n,t,null,e)}else t==null||t===""||!n.firstChild?n.appendChild(e):n.replaceChild(e,n.firstChild);t=e}}return t}function Bt(n,e,t){let r=!1;for(let s=0,i=e.length;s<i;s++){let o=e[s],a;if(o instanceof Node)n.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))r=Bt(n,o)||r;else if((a=typeof o)=="string")n.push(document.createTextNode(o));else if(a==="function")if(t){for(;typeof o=="function";)o=o();r=Bt(n,Array.isArray(o)?o:[o])||r}else n.push(o),r=!0;else n.push(document.createTextNode(o.toString()))}return r}function Sn(n,e,t){for(let r=0,s=e.length;r<s;r++)n.insertBefore(e[r],t)}function _e(n,e,t,r){if(t===void 0)return n.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(s!==a){const l=a.parentNode===n;!i&&!o?l?n.replaceChild(s,a):n.insertBefore(s,t):l&&a.remove()}else i=!0}}else n.insertBefore(s,t);return[s]}function ps(){const n=T.context;return`${n.id}${n.count++}`}const ms="http://www.w3.org/2000/svg";function Hn(n,e=!1){return e?document.createElementNS(ms,n):document.createElement(n)}function bc(n){const{useShadow:e}=n,t=document.createTextNode(""),r=n.mount||document.body;function s(){if(T.context){const[i,o]=q(!1);return queueMicrotask(()=>o(!0)),()=>i()&&n.children}else return()=>n.children}if(r instanceof HTMLHeadElement){const[i,o]=q(!1),a=()=>o(!0);ke(l=>Lt(r,()=>i()?l():s()(),null)),ge(()=>{T.context?queueMicrotask(a):a()})}else{const i=Hn(n.isSVG?"g":"div",n.isSVG),o=e&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"host",{get(){return t.parentNode}}),Lt(o,s()),r.appendChild(i),n.ref&&n.ref(i),ge(()=>r.removeChild(i))}return t}function _c(n){const[e,t]=Gn(n,["component"]);return D(()=>{const r=e.component;switch(typeof r){case"function":return V(()=>r(t));case"string":const s=Zr.has(r),i=T.context?hs():Hn(r,s);return ls(i,t,s),i}})}const gs="modulepreload",En={},ys="/",Me=function(e,t){return!t||t.length===0?e():Promise.all(t.map(r=>{if(r=`${ys}${r}`,r in En)return;En[r]=!0;const s=r.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":gs,s||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),s)return new Promise((a,l)=>{o.addEventListener("load",a),o.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function vs(n,e,t){return n.addEventListener(e,t),()=>n.removeEventListener(e,t)}function bs([n,e],t,r){return[t?()=>t(n()):n,r?s=>e(r(s)):e]}function _s(n){try{return document.querySelector(n)}catch{return null}}function ws(n,e){const t=_s(`a#${n}`);t?t.scrollIntoView():e&&window.scrollTo(0,0)}function Ss(n,e,t,r){let s=!1;const i=a=>typeof a=="string"?{value:a}:a,o=bs(q(i(n()),{equals:(a,l)=>a.value===l.value}),void 0,a=>(!s&&e(a),a));return t&&ge(t((a=n())=>{s=!0,o[1](i(a)),s=!1})),{signal:o,utils:r}}function Es(n){if(n){if(Array.isArray(n))return{signal:n}}else return{signal:q({value:""})};return n}function Os(){return Ss(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:n,replace:e,scroll:t,state:r})=>{e?window.history.replaceState(r,"",n):window.history.pushState(r,"",n),ws(window.location.hash.slice(1),t)},n=>vs(window,"popstate",()=>n()),{go:n=>window.history.go(n)})}const $s=/^(?:[a-z0-9]+:)?\/\//i,Ts=/^\/+|\/+$/g;function We(n,e=!1){const t=n.replace(Ts,"");return t?e||/^[?#]/.test(t)?t:"/"+t:""}function mt(n,e,t){if($s.test(e))return;const r=We(n),s=t&&We(t);let i="";return!s||e.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+We(e,!i)}function ks(n,e){if(n==null)throw new Error(e);return n}function Jn(n,e){return We(n).replace(/\/*(\*.*)?$/g,"")+We(e)}function As(n){const e={};return n.searchParams.forEach((t,r)=>{e[r]=t}),e}function Ae(n,e){return decodeURIComponent(e?n.replace(/\+/g," "):n)}function xs(n,e){const[t,r]=n.split("/*",2),s=t.split("/").filter(Boolean),i=s.length;return o=>{const a=o.split("/").filter(Boolean),l=a.length-i;if(l<0||l>0&&r===void 0&&!e)return null;const u={path:i?"":"/",params:{}};for(let c=0;c<i;c++){const h=s[c],d=a[c];if(h[0]===":")u.params[h.slice(1)]=d;else if(h.localeCompare(d,void 0,{sensitivity:"base"})!==0)return null;u.path+=`/${d}`}return r&&(u.params[r]=l?a.slice(-l).join("/"):""),u}}function Rs(n){const[e,t]=n.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(t===void 0?0:1))}function qn(n){const e=new Map,t=Ir();return new Proxy({},{get(r,s){return e.has(s)||Nr(t,()=>e.set(s,D(()=>n()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(n())}})}function Cs(n,e){const t=new URLSearchParams(n);Object.entries(e).forEach(([s,i])=>{i==null||i===""?t.delete(s):t.set(s,String(i))});const r=t.toString();return r?`?${r}`:""}const Ps=100,Vn=tt(),$t=tt(),Tt=()=>ks(Ue(Vn),"Make sure your app is wrapped in a <Router />");let Ye;const tn=()=>Ye||Ue($t)||Tt().base,Wn=()=>Tt().navigatorFactory(),Kn=()=>Tt().location,wc=()=>tn().params,Sc=()=>{const n=Kn(),e=Wn(),t=(r,s)=>{const i=V(()=>Cs(n.search,r));e(i,K(S({scroll:!1},s),{resolve:!0}))};return[n.query,t]};function js(n,e="",t){const{path:r,component:s,data:i,children:o}=n,a=!o||Array.isArray(o)&&!o.length,l=Jn(e,r),u=a?l:l.split("/*",1)[0];return{originalPath:r,pattern:u,element:s?()=>O(s,{}):()=>{const{element:c}=n;return c===void 0&&t?O(t,{}):c},preload:n.component?s.preload:n.preload,data:i,matcher:xs(u,!a)}}function Is(n,e=0){return{routes:n,score:Rs(n[n.length-1])*1e4-e,matcher(t){const r=[];for(let s=n.length-1;s>=0;s--){const i=n[s],o=i.matcher(t);if(!o)return null;r.unshift(K(S({},o),{route:i}))}return r}}}function Xn(n,e="",t,r=[],s=[]){const i=Array.isArray(n)?n:[n];for(let o=0,a=i.length;o<a;o++){const l=i[o];if(l&&typeof l=="object"&&l.hasOwnProperty("path")){const u=js(l,e,t);if(r.push(u),l.children)Xn(l.children,u.pattern,t,r,s);else{const c=Is([...r],s.length);s.push(c)}r.pop()}}return r.length?s:s.sort((o,a)=>a.score-o.score)}function Ns(n,e){for(let t=0,r=n.length;t<r;t++){const s=n[t].matcher(e);if(s)return s}return[]}function Ds(n,e){const t=new URL("http://sar"),r=D(l=>{const u=n();try{return new URL(u,t)}catch{return console.error(`Invalid path ${u}`),l}},t,{equals:(l,u)=>l.href===u.href}),s=D(()=>Ae(r().pathname)),i=D(()=>Ae(r().search,!0)),o=D(()=>Ae(r().hash)),a=D(()=>"");return{get pathname(){return s()},get search(){return i()},get hash(){return o()},get state(){return e()},get key(){return a()},query:qn(Nn(i,()=>As(r())))}}function Us(n,e="",t,r){const{signal:[s,i],utils:o={}}=Es(n),a=o.parsePath||(w=>w),l=o.renderPath||(w=>w),u=mt("",e),c=void 0;if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!s().value&&i({value:u,replace:!0,scroll:!1});const[h,d]=Ur(),[p,m]=q(s().value),[y,b]=q(s().state),C=Ds(p,y),I=[],P={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath(w){return mt(u,w)}};if(t)try{Ye=P,P.data=t({data:void 0,params:{},location:C,navigate:F(P)})}finally{Ye=void 0}function M(w,v,E){V(()=>{if(typeof v=="number"){v&&(o.go?o.go(v):console.warn("Router integration does not support relative routing"));return}const{replace:W,resolve:z,scroll:it,state:ee}=S({replace:!1,resolve:!0,scroll:!0},E),f=z?w.resolvePath(v):mt("",v);if(f===void 0)throw new Error(`Path '${v}' is not a routable path`);if(I.length>=Ps)throw new Error("Too many redirects");const g=p();if(f!==g||ee!==y()){const _=I.push({value:g,replace:W,scroll:it,state:y()});d(()=>{m(f),b(ee)}).then(()=>{I.length===_&&re({value:f,state:ee})})}})}function F(w){return w=w||Ue($t)||P,(v,E)=>M(w,v,E)}function re(w){const v=I[0];v&&((w.value!==v.value||w.state!==v.state)&&i(K(S({},w),{replace:v.replace,scroll:v.scroll})),I.length=0)}ie(()=>{const{value:w,state:v}=s();V(()=>{w!==p()&&d(()=>{m(w),b(v)})})});{let w=function(v){if(v.defaultPrevented||v.button!==0||v.metaKey||v.altKey||v.ctrlKey||v.shiftKey)return;const E=v.composedPath().find(U=>U instanceof Node&&U.nodeName.toUpperCase()==="A");if(!E)return;const W=E instanceof SVGAElement,z=W?E.href.baseVal:E.href;if((W?E.target.baseVal:E.target)||!z&&!E.hasAttribute("state"))return;const ee=(E.getAttribute("rel")||"").split(/\s+/);if(E.hasAttribute("download")||ee&&ee.includes("external"))return;const f=W?new URL(z,document.baseURI):new URL(z),g=Ae(f.pathname);if(f.origin!==window.location.origin||u&&g&&!g.toLowerCase().startsWith(u.toLowerCase()))return;const _=a(g+Ae(f.search,!0)+Ae(f.hash)),L=E.getAttribute("state");v.preventDefault(),M(P,_,{resolve:!1,replace:E.hasAttribute("replace"),scroll:!E.hasAttribute("noscroll"),state:L&&JSON.parse(L)})};document.addEventListener("click",w),ge(()=>document.removeEventListener("click",w))}return{base:P,out:c,location:C,isRouting:h,renderPath:l,parsePath:a,navigatorFactory:F}}function Ls(n,e,t,r){const{base:s,location:i,navigatorFactory:o}=n,{pattern:a,element:l,preload:u,data:c}=r().route,h=D(()=>r().path),d=qn(()=>r().params);u&&u();const p={parent:e,pattern:a,get child(){return t()},path:h,params:d,data:e.data,outlet:l,resolvePath(m){return mt(s.path(),m,h())}};if(c)try{Ye=p,p.data=c({data:e.data,params:d,location:i,navigate:o(p)})}finally{Ye=void 0}return p}const Bs=n=>{const{source:e,url:t,base:r,data:s,out:i}=n,o=e||Os(),a=Us(o,r,s);return O(Vn.Provider,{value:a,get children(){return n.children}})},Ms=n=>{const e=Tt(),t=tn(),r=D(()=>Xn(n.children,Jn(t.pattern,n.base||""),Fs)),s=D(()=>Ns(r(),e.location.pathname));e.out&&e.out.matches.push(s().map(({route:l,path:u,params:c})=>({originalPath:l.originalPath,pattern:l.pattern,path:u,params:c})));const i=[];let o;const a=D(Nn(s,(l,u,c)=>{let h=u&&l.length===u.length;const d=[];for(let p=0,m=l.length;p<m;p++){const y=u&&u[p],b=l[p];c&&y&&b.route.pattern===y.route.pattern?d[p]=c[p]:(h=!1,i[p]&&i[p](),ke(C=>{i[p]=C,d[p]=Ls(e,d[p-1]||t,()=>a()[p+1],()=>s()[p])}))}return i.splice(l.length).forEach(p=>p()),c&&h?c:(o=d[0],d)}));return O(en,{get when(){return a()&&o},children:l=>O($t.Provider,{value:l,get children(){return l.outlet()}})})},we=n=>n,Fs=()=>{const n=tn();return O(en,{get when(){return n.child},children:e=>O($t.Provider,{value:e,get children(){return e.outlet()}})})};function zs(n){const e=Wn(),t=Kn(),{href:r,state:s}=n,i=typeof r=="function"?r({navigate:e,location:t}):r;return e(i,{replace:!0,state:s}),null}function Gs(n,e,t){const r={};return Object.keys(n).forEach(s=>{r[s]=n[s].reduce((i,o)=>(o&&(t&&t[o]&&i.push(t[o]),i.push(e(o))),i),[]).join(" ")}),r}const nn=tt({});function It(n,e,t="px"){let r;if(n==="up")r=`(min-width:${e}${t})`;else if(n==="down")r=`(max-width:${e}${t})`;else if(n==="between"){const[s,i]=e;r=`(max-width:${s}${t}) and (min-width:${i}${t})`}else throw new Error(`Invalid comparator: ${n}`);return`@media ${r}`}const Hs={columns:12,keys:["xs","sm","md","lg","xl"],values:{xs:0,sm:600,md:900,lg:1200,xl:1536},unit:"px"};function Yn(n){const e=K(S(S({},Hs),n!=null?n:{}),{up:(t,r)=>{const s=It("up",e.resolve(t));return r?{[s]:r}:s},down:(t,r)=>{const s=It("down",e.resolve(t));return r?{[s]:r}:s},between:(t,r)=>{const s=It("between",[e.resolve(t[0]),e.resolve(t[1])]);return r?{[s]:r}:s},resolve:t=>typeof t=="number"?t:e.values[t]});return e}function Zn(n){return typeof n=="function"?n:(...t)=>t.map(r=>typeof r=="number"?`${r*(n!=null?n:8)}px`:r).join(" ")}function He(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function Js(n,e){for(const t of e){const r=n[t];delete n[t],n[t]=r}}function rn(n,e,t={clone:!0}){const r=t.clone?S({},n):n;return He(n)&&He(e)&&(Object.keys(e).forEach(s=>{s!=="__proto__"&&(He(e[s])&&s in n&&He(n[s])?r[s]=rn(n[s],e[s],t):r[s]=e[s])}),t.sortKeys&&Js(r,Object.keys(e))),r}function Mt(n){if(Array.isArray(n)){const e=[];for(const t of n)e.push(Mt(t));return e}else if(He(n)){const e={};for(const t in n)t!=="__proto__"&&(e[t]=Mt(n[t]));return e}else return n}function nt(n,...e){for(const t of e)rn(n,Mt(t),{clone:!1});return n}const qs={borderRadius:4};function Qn(n){return S({},nt({},qs,n))}function Vs(n){return K(S({direction:"ltr",shadows:void 0,transitions:void 0,components:void 0,palette:void 0,typography:void 0,zIndex:void 0,mixins:void 0},n),{breakpoints:Yn(n==null?void 0:n.breakpoints),shape:Qn(n==null?void 0:n.shape),spacing:Zn(n==null?void 0:n.spacing)})}function er(n){let e;return function(){return e||(e=n()),e}}var Ws=er(Vs);function Ks(n){for(const e in n)return!1;return!0}function tr(n=Ws,e=nn){const t=Ue(e);if(Ks(t)&&n)return typeof n=="function"?n():n;if(!t)throw new Error("Theme is not defined");return t}function Xs(n){return tr(n,nn)}function Ys(n){const e=Xs(),t=s=>s,r=typeof n.propDefaults=="function"?n.propDefaults({set:t,inProps:n.props}):n.propDefaults;return Jr(...r?[r]:[],()=>{var s,i;return((i=(s=e.components)==null?void 0:s[n.name])==null?void 0:i.defaultProps)||{}},n.props)}const sn=Symbol("store-raw"),Ze=Symbol("store-node"),Zs=Symbol("store-name");function nr(n,e){let t=n[ne];if(!t){Object.defineProperty(n,ne,{value:t=new Proxy(n,Qs)});const r=Object.keys(n),s=Object.getOwnPropertyDescriptors(n);for(let i=0,o=r.length;i<o;i++){const a=r[i];if(s[a].get){const l=s[a].get.bind(t);Object.defineProperty(n,a,{get:l})}}}return t}function ae(n){return n!=null&&typeof n=="object"&&(n[ne]||!n.__proto__||n.__proto__===Object.prototype||Array.isArray(n))}function ue(n,e=new Set){let t,r,s,i;if(t=n!=null&&n[sn])return t;if(!ae(n)||e.has(n))return n;if(Array.isArray(n)){Object.isFrozen(n)?n=n.slice(0):e.add(n);for(let o=0,a=n.length;o<a;o++)s=n[o],(r=ue(s,e))!==s&&(n[o]=r)}else{Object.isFrozen(n)?n=Object.assign({},n):e.add(n);const o=Object.keys(n),a=Object.getOwnPropertyDescriptors(n);for(let l=0,u=o.length;l<u;l++)i=o[l],!a[i].get&&(s=n[i],(r=ue(s,e))!==s&&(n[i]=r))}return n}function kt(n){let e=n[Ze];return e||Object.defineProperty(n,Ze,{value:e={}}),e}function _t(n,e,t){return n[e]||(n[e]=ir(t,!0))}function rr(n,e){const t=Reflect.getOwnPropertyDescriptor(n,e);return!t||t.get||!t.configurable||e===ne||e===Ze||e===Zs||(delete t.value,delete t.writable,t.get=()=>n[ne][e]),t}function on(n){if(Yt()){const e=kt(n);(e._||(e._=ir()))()}}function sr(n){return on(n),Reflect.ownKeys(n)}function ir(n,e){const[t,r]=q(n,e?{internal:!0}:{equals:!1,internal:!0});return t.$=r,t}const Qs={get(n,e,t){if(e===sn)return n;if(e===ne)return t;if(e===Kt)return on(n);const r=kt(n),s=r[e];let i=s?r[e]():n[e];if(e===Ze||e==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(n,e);Yt()&&(typeof i!="function"||n.hasOwnProperty(e))&&!(o&&o.get)&&(i=_t(r,e,i)())}return ae(i)?nr(i):i},set(){return!0},deleteProperty(){return!0},ownKeys:sr,getOwnPropertyDescriptor:rr};function X(n,e,t){if(n[e]===t)return;const r=n[e],s=n.length;t===void 0?delete n[e]:n[e]=t;let i=kt(n),o;(o=_t(i,e,r))&&o.$(()=>t),Array.isArray(n)&&n.length!==s&&(o=_t(i,"length",s))&&o.$(n.length),(o=i._)&&o.$()}function or(n,e){const t=Object.keys(e);for(let r=0;r<t.length;r+=1){const s=t[r];X(n,s,e[s])}}function ei(n,e){if(typeof e=="function"&&(e=e(n)),e=ue(e),Array.isArray(e)){if(n===e)return;let t=0,r=e.length;for(;t<r;t++){const s=e[t];n[t]!==s&&X(n,t,s)}X(n,"length",r)}else or(n,e)}function Je(n,e,t=[]){let r,s=n;if(e.length>1){r=e.shift();const o=typeof r,a=Array.isArray(n);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Je(n,[r[l]].concat(e),t);return}else if(a&&o==="function"){for(let l=0;l<n.length;l++)r(n[l],l)&&Je(n,[l].concat(e),t);return}else if(a&&o==="object"){const{from:l=0,to:u=n.length-1,by:c=1}=r;for(let h=l;h<=u;h+=c)Je(n,[h].concat(e),t);return}else if(e.length>1){Je(n[r],e,[r].concat(t));return}s=n[r],t=[r].concat(t)}let i=e[0];typeof i=="function"&&(i=i(s,t),i===s)||r===void 0&&i==null||(i=ue(i),r===void 0||ae(s)&&ae(i)&&!Array.isArray(i)?or(s,i):X(n,r,i))}function Ec(n,e){const t=ue(n||{}),r=Array.isArray(t),s=nr(t);function i(...o){oe(()=>{r&&o.length===1?ei(t,o[0]):Je(t,o)})}return[s,i]}const ti={get(n,e,t){if(e===sn)return n;if(e===ne)return t;if(e===Kt)return on(n);const r=kt(n),s=r[e];let i=s?r[e]():n[e];if(e===Ze||e==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(n,e),a=typeof i=="function";if(Yt()&&(!a||n.hasOwnProperty(e))&&!(o&&o.get))i=_t(r,e,i)();else if(i!=null&&a&&i===Array.prototype[e])return(...l)=>oe(()=>Array.prototype[e].apply(t,l))}return ae(i)?ar(i):i},set(n,e,t){return X(n,e,ue(t)),!0},deleteProperty(n,e){return X(n,e,void 0),!0},ownKeys:sr,getOwnPropertyDescriptor:rr};function ar(n,e){let t=n[ne];if(!t){Object.defineProperty(n,ne,{value:t=new Proxy(n,ti)});const r=Object.keys(n),s=Object.getOwnPropertyDescriptors(n);for(let i=0,o=r.length;i<o;i++){const a=r[i];if(s[a].get){const l=s[a].get.bind(t);Object.defineProperty(n,a,{get:l})}if(s[a].set){const l=s[a].set;Object.defineProperty(n,a,{set:c=>oe(()=>l.call(t,c))})}}}return t}function ni(n,e){const t=ue(n||{});return ar(t)}function Ee(n,e,t,r,s){const i=e[t];if(n===i)return;if(!ae(n)||!ae(i)||s&&n[s]!==i[s]){n!==i&&X(e,t,n);return}if(Array.isArray(n)){if(n.length&&i.length&&(!r||s&&n[0][s]!=null)){let l,u,c,h,d,p,m,y;for(c=0,h=Math.min(i.length,n.length);c<h&&(i[c]===n[c]||s&&i[c][s]===n[c][s]);c++)Ee(n[c],i,c,r,s);const b=new Array(n.length),C=new Map;for(h=i.length-1,d=n.length-1;h>=c&&d>=c&&(i[h]===n[d]||s&&i[h][s]===n[d][s]);h--,d--)b[d]=i[h];if(c>d||c>h){for(u=c;u<=d;u++)X(i,u,n[u]);for(;u<n.length;u++)X(i,u,b[u]),Ee(n[u],i,u,r,s);i.length>n.length&&X(i,"length",n.length);return}for(m=new Array(d+1),u=d;u>=c;u--)p=n[u],y=s?p[s]:p,l=C.get(y),m[u]=l===void 0?-1:l,C.set(y,u);for(l=c;l<=h;l++)p=i[l],y=s?p[s]:p,u=C.get(y),u!==void 0&&u!==-1&&(b[u]=i[l],u=m[u],C.set(y,u));for(u=c;u<n.length;u++)u in b?(X(i,u,b[u]),Ee(n[u],i,u,r,s)):X(i,u,n[u])}else for(let l=0,u=n.length;l<u;l++)Ee(n[l],i,l,r,s);i.length>n.length&&X(i,"length",n.length);return}const o=Object.keys(n);for(let l=0,u=o.length;l<u;l++)Ee(n[o[l]],i,o[l],r,s);const a=Object.keys(i);for(let l=0,u=a.length;l<u;l++)n[a[l]]===void 0&&X(i,a[l],void 0)}function Oc(n,e={}){const{merge:t,key:r="id"}=e,s=ue(n);return i=>!ae(i)||!ae(s)?s:(oe(()=>Ee(s,{state:i},"state",t,r)),i)}function cr(){return function(n){function e(a){const l=!!n.slotClasses,u=()=>{var h;if(!n.slotClasses)throw new Error("'slotClasses' option is not defined");if(!n.utilityClass)throw new Error("'utilityClass' option is not defined");return Gs(n.slotClasses(a),n.utilityClass,(h=a.classes)!=null?h:"")},c=ni({});return l&&vt(()=>{const h=u();oe(()=>{for(const d in h)c[d]=h[d]})}),c}function t(a){const[l,u]=Gn(a,n.selfPropNames);return{allProps:a,props:l,otherProps:u}}function r(a){return Ys(K(S({propDefaults:n.propDefaults},a),{name:n.name}))}function s(a){const l=r({props:a});return t(l)}function i(a){return a.toString=()=>`${n.name}-root`,a}function o(a){const l=i(function(c){var y;const{allProps:h,otherProps:d,props:p}=s(c),m=(y=n.autoCallUseClasses)==null||y?e(h):{};return a({allProps:h,otherProps:d,props:p,classes:m})});return Object.defineProperty(l,"name",{value:a.name}),l}return{name:n.name,selfPropNames:n.selfPropNames,component:o,defineComponent:i,useClasses:e,useThemeProps:r,useProps:s,splitInProps:t}}}const ri=tt({});function si(n){const e=n.reduce((t,r)=>("name"in r&&(t[`--${r.name}`]="0"),rn(t,r,{clone:!1,sortKeys:!0}),t),{});return delete e.name,e}function lr(n){return n.startsWith("--")}function ii(n){return n.startsWith("__")}function oi(n){return/[^a-z-]/i.test(n)&&!lr(n)}function ai(n){return n.startsWith("@global")}function ci(n){return n.startsWith("@media")}function li(n){return n.startsWith("@keyframes")}function On(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function $n(n,e,t=[],r={}){const s=n.split(",").map(i=>(i=i.trim(),i.includes("&")?i:`& ${i}`));return wt(e,(t.length?t:[""]).flatMap(i=>s.map(o=>o.replace(/&/g,i).trim())),S({},r))}function wt(n,e=[],t={}){const r=[],s=[];for(let o in n){const a=n[o];if(!ii(o))if(ai(o))for(const l in a)s.push(...$n(l,a[l],[],t));else if(ci(o))s.push(...wt(a,e,K(S({},t),{sublevel:!0})).map(l=>`${o} {
${l}
}`));else if(lr(o))a!=null&&r.push(`${o}: ${a};`);else if(li(o)){const l=[];for(const u in a)l.push(...wt(a[u],[/^\d+$/.test(u)?`${u}%`:u],K(S({},t),{sublevel:!0})));s.push(`${o} {
${l.join(`
`)}
}`)}else if(oi(o))s.push(...$n(o,a,e,t));else if(t.extraProperties&&o in t.extraProperties){const l=t.extraProperties[o](a);for(const u in l){const c=l[u],h=t.onPropertyValue?t.onPropertyValue(u,c):c;h!=null&&r.push(`${On(u)}: ${h};`)}}else{o=On(o);const l=t.onPropertyValue?t.onPropertyValue(o,a):a;l!=null&&r.push(`${o}: ${l};`)}}const i=o=>{const a="	".repeat(o);return`${a}${r.join(`
${a}`)}`};if(e.length){const o=t.sublevel?"	":"",a=o+e.join(`,
${o}`);return[...r.length?[`${a} {
${i(t.sublevel?2:1)}
${o}}`]:[],...s]}else return[...r.length?[i(0)]:[],...s]}function ui(){return Math.random().toString(36).substring(2,15).slice(0,8)}function hi(n,e){return typeof n=="function"&&(n=n(...e||[])),n}function fi(n){return n?Array.isArray(n)?n:[n]:[]}function di(n,e){const t=ui().slice(0,6);return{id:t,name:n,className:`${n}-${t}`,rules:e.replaceAll("$id",`${t}`)}}function pi(n){var i;const e=`${n.name}-$id`,r=fi(hi(n.props)).map(o=>typeof o=="string"?`.${e} {
${o}
}`:wt(o,[`.${e}`],{extraProperties:n.extraProperties}).join(`
`)).join(`
`),s=((i=n.cache)==null?void 0:i.get(r))||di(n.name,r);return n.cache&&n.cache.set(r,s),s}function ur(n,e){"styleSheet"in n?n.styleSheet.cssText=e:(n.innerText="",n.appendChild(document.createTextNode(e)))}function mi(n,e){for(const t in e){const r=e[t];r!==void 0&&(r===null?n.removeAttribute(t):n.setAttribute(t,r))}}function gi(n,e){const t=document.createElement("style");return t.type="text/css",e&&mi(t,e),ur(t,n),t}function Ft(n){let e=Number(n.getAttribute("data-uses"));e++,n.setAttribute("data-uses",e.toString())}function yi(n,e){Array.isArray(n)&&(n=n.join(`
`));const t=e==null?void 0:e.id,r=document.head||document.getElementsByTagName("head")[0],s=t&&document.getElementById(t);if(s&&s instanceof HTMLStyleElement)return ur(s,n),Ft(s),s;{s&&s.remove();const i=gi(n,e);return Ft(i),r.appendChild(i),i}}function vi(n){return document.getElementById(n)}function Tn(n){let e=Number(n.getAttribute("data-uses"));e--,e<=0?n.remove():n.setAttribute("data-uses",e.toString())}const bi=new Map;function _i(n){return n?(Array.isArray(n)?n:[n]).flat(1/0).filter(e=>!!e):[]}function wi(n){const e=Ue(ri),[t,r]=q("");let s;return ie(i=>{var l;const o=n();let a;return o&&(a=pi({name:"css",props:si(_i(o)),cache:bi}),s=vi(a.id),s?Ft(s):s=yi(a.rules,{id:a.id,once:(l=e.cache)==null?void 0:l.nonce})),i!=null&&i.styleElement&&Tn(i.styleElement),typeof(a==null?void 0:a.className)=="string"?r(a.className):r(""),{className:a==null?void 0:a.className,styleElement:s}},void 0),ge(()=>{s&&Tn(s)}),t}const Si=cr()({name:"MuiGlobalStyles",selfPropNames:["styles"]}),Ei=Si.component(function({props:e}){return wi(()=>({"@global":e.styles||{}})),[]}),Oi={};function $i(n){return S({},nt({},Oi,n!=null?n:{}))}function Ti(n,e,t={}){return S({toolbar:{minHeight:56,[`${n.up("xs")} and (orientation: landscape)`]:{minHeight:48},[n.up("sm")]:{minHeight:64}}},t)}const ye={black:"#000",white:"#fff"},xe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Re={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ce={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Pe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},je={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ke={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ki={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function an(n,e=0,t=1){return Math.min(Math.max(e,n),t)}function Ai(n){n=n.substr(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ve(n){if(typeof n!="string")return n;if(n.charAt(0)==="#")return ve(Ai(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error("MUI: Unsupported `%s` color.\nThe following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color(). "+n);const r=n.substring(e+1,n.length-1);let s,i;if(t==="color"){if(s=r.split(" "),i=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error("MUI: unsupported `%s` color space.\nThe following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020. "+i)}else s=r.split(",");return{type:t,values:s.map(o=>parseFloat(o)),colorSpace:i}}function At(n){const{type:e,colorSpace:t}=n,{values:r}=n;let s;return e.indexOf("rgb")!==-1?s=r.map((i,o)=>o<3?parseInt(i.toString(),10):i).join(","):e.indexOf("hsl")!==-1&&(s=r.map((i,o)=>o===1||o===2?`${i}%`:i).join(",")),e.indexOf("color")!==-1?s=`${t} ${r.join(" ")}`:s=`${r.join(", ")}`,`${e}(${s})`}function xi(n){const e=ve(n),{values:t}=e,r=t[0],s=t[1]/100,i=t[2]/100,o=s*Math.min(i,1-i),a=(c,h=(c+r/30)%12)=>i-o*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",u.push(t[3])),At({type:l,values:u})}function kn(n){const{type:e,values:t}=ve(n);let r=e==="hsl"?ve(xi(n)).values:t;return r=r.map(s=>(e!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(3))}function Ri(n,e){const t=kn(n),r=kn(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function $c(n,e){let{type:t,values:r}=ve(n);return e=an(e),(t==="rgb"||t==="hsl")&&(t+="a"),t==="color"?r[3]=`/${e}`:r[3]=e,At({type:t,values:r})}function Ci(n,e){const t=ve(n);if(e=an(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return At(t)}function Pi(n,e){const t=ve(n);if(e=an(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return At(t)}const ji=()=>({text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ye.white,default:ye.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}),Ii={primary:{main:Ce[700],light:Ce[400],dark:Ce[800]},secondary:{main:Re[500],light:Re[300],dark:Re[700]},error:{main:xe[700],light:xe[400],dark:xe[800]},info:{main:Pe[700],light:Pe[800],dark:Pe[900]},success:{main:je[800],light:je[500],dark:je[900]},warning:{main:"#ED6C02",light:Ke[500],dark:Ke[900]}},Ni=()=>({text:{primary:ye.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ye.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}),Di={primary:{main:Ce[200],light:Ce[50],dark:Ce[400]},secondary:{main:Re[200],light:Re[50],dark:Re[400]},error:{main:xe[500],light:xe[300],dark:xe[700]},info:{main:Pe[400],light:Pe[300],dark:Pe[700]},success:{main:je[400],light:je[300],dark:je[700]},warning:{main:Ke[400],light:Ke[300],dark:Ke[700]}},Ui={light:ji,dark:Ni};function hr(n,e){return Ri(n,ye.white)>=e?ye.white:"rgba(0, 0, 0, 0.87)"}function An(n,e,t,r){const s=typeof r=="number"?r:r.light,i=typeof r=="number"?r*1.5:r.dark;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Pi(n.main,s):e==="dark"&&(n.dark=Ci(n.main,i)))}function Li(n){var r,s,i;const e=S({},n.color),t=(r=n.mainShade)!=null?r:500;return!n.color.main&&n.color[t]&&(e.main=n.color[t]),An(e,"light",(s=n.lightShade)!=null?s:300,n.tonalOffset),An(e,"dark",(i=n.darkShade)!=null?i:700,n.tonalOffset),e.contrastText||(e.contrastText=hr(e.main,n.contrastThreshold)),e}const Bi=()=>({mode:"light",tonalOffset:.2,contrastThreshold:3,grey:ki,common:ye});function Mi(n){var i;const e=["error","info","primary","secondary","success","warning"],t=Bi(),r=K(S({},nt({},t,Ui[(i=n==null?void 0:n.mode)!=null?i:t.mode](),n)),{isColorName(o){return e.includes(o)},getColorObject(o){return r[o]},getColor(o){return r.mode==="light"?r[o].light:r[o].dark},augmentColor(o){return Li(K(S({},o),{tonalOffset:r.tonalOffset,contrastThreshold:r.contrastThreshold}))},getContrastText(o){return hr(o,r.contrastThreshold)}}),s=o=>r.mode==="light"?Ii[o]:Di[o];return r.primary=r.augmentColor({color:r.primary||s("primary")}),r.secondary=r.augmentColor({color:r.secondary||s("secondary"),mainShade:"A400",lightShade:"A200",darkShade:"A700"}),r.error=r.augmentColor({color:r.error||s("error")}),r.warning=r.augmentColor({color:r.warning||s("warning")}),r.info=r.augmentColor({color:r.info||s("info")}),r.success=r.augmentColor({color:r.success||s("success")}),r}const Nt={},Fi=.2,zi=.14,Gi=.12;function j(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Fi})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${zi})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Gi})`].join(",")}const Hi=[()=>"none",()=>j(0,2,1,-1,0,1,1,0,0,1,3,0),()=>j(0,3,1,-2,0,2,2,0,0,1,5,0),()=>j(0,3,3,-2,0,3,4,0,0,1,8,0),()=>j(0,2,4,-1,0,4,5,0,0,1,10,0),()=>j(0,3,5,-1,0,5,8,0,0,1,14,0),()=>j(0,3,5,-1,0,6,10,0,0,1,18,0),()=>j(0,4,5,-2,0,7,10,1,0,2,16,1),()=>j(0,5,5,-3,0,8,10,1,0,3,14,2),()=>j(0,5,6,-3,0,9,12,1,0,3,16,2),()=>j(0,6,6,-3,0,10,14,1,0,4,18,3),()=>j(0,6,7,-4,0,11,15,1,0,4,20,3),()=>j(0,7,8,-4,0,12,17,2,0,5,22,4),()=>j(0,7,8,-4,0,13,19,2,0,5,24,4),()=>j(0,7,9,-4,0,14,21,2,0,5,26,4),()=>j(0,8,9,-5,0,15,22,2,0,6,28,5),()=>j(0,8,10,-5,0,16,24,2,0,6,30,5),()=>j(0,8,11,-5,0,17,26,2,0,6,32,5),()=>j(0,9,11,-5,0,18,28,2,0,7,34,6),()=>j(0,9,12,-6,0,19,29,2,0,7,36,6),()=>j(0,10,13,-6,0,20,31,3,0,8,38,7),()=>j(0,10,13,-6,0,21,33,3,0,8,40,7),()=>j(0,10,14,-6,0,22,35,3,0,8,42,7),()=>j(0,11,14,-7,0,23,36,3,0,9,44,8),()=>j(0,11,15,-7,0,24,38,3,0,9,46,8)];function Ji(){return new Proxy([],{get:(n,e)=>typeof e!="string"||isNaN(Number(e))?n[e]:e in Nt?Nt[e]:Nt[e]=Hi[e]()})}const qi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Vi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function xn(n){return`${Math.round(n)}ms`}function Wi(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function Ki(n){const e=S(S({},qi),n.easing),t=S(S({},Vi),n.duration);return K(S({getAutoHeightDuration:Wi,create:(s=["all"],i={})=>{const c=i,{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=c,u=mn(c,["duration","easing","delay"]);return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof o=="string"?o:xn(o)} ${a} ${typeof l=="string"?l:xn(l)}`).join(",")}},n),{easing:e,duration:t})}const Y={light:300,regular:400,medium:500,bold:700},lt={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,htmlFontSize:16,h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},subtitle1:{},subtitle2:{},body1:{},body2:{},button:{},caption:{},overline:{},fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700};function Xi(n){return Math.round(n*1e5)/1e5}function Z(n,e,t,r,s,i){return S({fontFamily:n.fontFamily,fontWeight:e,fontSize:n.pxToRem(t),lineHeight:`${r}`,letterSpacing:`${Xi(s/t)}em`},i?{textTransform:"uppercase"}:{})}function Yi(n={}){var t,r,s;const e={fontFamily:(t=n.fontFamily)!=null?t:lt.fontFamily,fontSize:(r=n.fontSize)!=null?r:lt.fontSize,htmlFontSize:(s=n==null?void 0:n.htmlFontSize)!=null?s:lt.htmlFontSize,pxToRem:i=>{const o=e.fontSize/14;return`${i/e.htmlFontSize*o}rem`}};return nt(e,{h1:Z(e,Y.light,96,1.167,-1.5),h2:Z(e,Y.light,60,1.2,-.5),h3:Z(e,Y.regular,48,1.167,0),h4:Z(e,Y.regular,34,1.235,.25),h5:Z(e,Y.regular,24,1.334,0),h6:Z(e,Y.medium,20,1.6,.15),subtitle1:Z(e,Y.regular,16,1.75,.15),subtitle2:Z(e,Y.medium,14,1.57,.1),body1:Z(e,Y.regular,16,1.5,.15),body2:Z(e,Y.regular,14,1.43,.15),button:Z(e,Y.medium,14,1.75,.4,!0),caption:Z(e,Y.regular,12,1.66,.4),overline:Z(e,Y.regular,12,2.66,1,!0)},lt,n)}const Zi={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Qi(n){return S({},nt({},Zi,n))}function eo(n={}){const e=S({direction:"ltr"},n);function t(r,s){const i=n[r];Object.defineProperty(e,r,S({configurable:!0,enumerable:!0},typeof i=="function"?{get:i}:{value:s({[r]:i})}))}return t("breakpoints",r=>Yn(r.breakpoints)),t("components",r=>$i(r.components)),t("palette",r=>Mi(r.palette)),t("shape",r=>Qn(r.shape)),t("spacing",r=>Zn(r.spacing)),t("typography",r=>Yi(r.typography)),t("shadows",()=>Ji()),t("transitions",()=>Ki({})),t("zIndex",r=>Qi(r.zIndex)),t("mixins",()=>Ti(e.breakpoints)),e}var to=er(eo);function no(n=to){return tr(n,nn)}const ro=cr()({name:"MuiCssBaseline",selfPropNames:["children","enableColorScheme"],propDefaults:({set:n})=>n({enableColorScheme:!1})}),so=(n,e)=>S({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&{colorScheme:n.palette.mode}),io=n=>K(S({color:n.palette.text.primary},n.typography.body1),{backgroundColor:n.palette.background.default,"@media print":{backgroundColor:n.palette.common.white}}),oo=(n,e=!1)=>({html:so(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:K(S({margin:0},io(n)),{"&::backdrop":{backgroundColor:n.palette.background.default}})}),ao=ro.component(function({props:e}){const t=no();return O(Ei,{get styles(){return oo(t,e.enableColorScheme)}})});var fr=tt(),co=n=>O(fr.Provider,{get value(){return n.client},get children(){return n.children}}),dr=()=>{let n=Ue(fr);if(!n)throw new Error("createSupabase must be used within a SupabaseContext.Provider");return n};function lo(){return dr().auth}function Tc(n){let e=dr(),{data:t}=e.auth.onAuthStateChange((r,s)=>{n(r,s)});ie(()=>{e.auth.session()&&n("SIGNED_IN",e.auth.session()),ge(()=>{t==null||t.unsubscribe()})})}const uo=n=>{const e=lo();return O(en,{get when(){return e.user()},get fallback(){return O(zs,{get href(){return n.fallback}})},get children(){return n.children}})},ho=Be(()=>Me(()=>import("./index.22d4961c.js"),["assets/index.22d4961c.js","assets/getDeviceId.e8f3946a.js","assets/Button.c1c2aac3.js","assets/IconButton.98bd67c8.js","assets/isHostComponent.9ebad583.js","assets/CardActions.c5e64204.js","assets/TextField.71eb3b91.js","assets/index.3fcd7a1c.js"])),fo=Be(()=>Me(()=>import("./index.d3402bc8.js"),["assets/index.d3402bc8.js","assets/Button.c1c2aac3.js","assets/getDeviceId.e8f3946a.js","assets/solid.a5959298.js"])),po=Be(()=>Me(()=>import("./index.012b0359.js"),["assets/index.012b0359.js","assets/Button.c1c2aac3.js","assets/TextField.71eb3b91.js","assets/isHostComponent.9ebad583.js","assets/Popover.7a0330e4.js","assets/IconButton.98bd67c8.js","assets/CardActions.c5e64204.js","assets/solid.a5959298.js","assets/getDeviceId.e8f3946a.js"])),mo=Be(()=>Me(()=>import("./index.3575b7ca.js"),["assets/index.3575b7ca.js","assets/Popover.7a0330e4.js","assets/IconButton.98bd67c8.js","assets/Button.c1c2aac3.js","assets/isHostComponent.9ebad583.js","assets/solid.a5959298.js","assets/getDeviceId.e8f3946a.js","assets/index.d4193fce.js","assets/index.276fa080.css","assets/index.76b42fb2.js","assets/index.3fcd7a1c.js"])),go=Be(()=>Me(()=>import("./index.4eeffec5.js"),["assets/index.4eeffec5.js","assets/Button.c1c2aac3.js","assets/TextField.71eb3b91.js","assets/isHostComponent.9ebad583.js","assets/index.d4193fce.js","assets/index.276fa080.css"])),yo=Be(()=>Me(()=>import("./index.2c7a0208.js"),["assets/index.2c7a0208.js","assets/Button.c1c2aac3.js","assets/TextField.71eb3b91.js","assets/isHostComponent.9ebad583.js","assets/solid.a5959298.js","assets/getDeviceId.e8f3946a.js","assets/index.76b42fb2.js"])),vo=()=>[O(ao,{}),O(Ms,{get children(){return[O(we,{path:"/",get element(){return O(uo,{fallback:"/login",get children(){return O(po,{})}})}}),O(we,{path:"/login",get element(){return O(ho,{})}}),O(we,{path:"/user",get element(){return O(fo,{})}}),O(we,{path:"/dev-draw-broad",get element(){return O(go,{})}}),O(we,{path:"/rooms/:id",get element(){return O(mo,{})}}),O(we,{path:"/dev-mesh",get element(){return O(yo,{})}})]}})],bo=5,ut=6,ht=10;let _o=(n,e,t,r)=>(n.events=n.events||{},n.events[t+ht]||(n.events[t+ht]=r(s=>{n.events[t].reduceRight((i,o)=>(o(i),i),S({shared:{}},s))})),n.events[t]=n.events[t]||[],n.events[t].push(e),()=>{let s=n.events[t],i=s.indexOf(e);s.splice(i,1),s.length||(delete n.events[t],n.events[t+ht](),delete n.events[t+ht])}),wo=1e3,So=(n,e)=>_o(n,()=>{let r=e();r&&n.events[ut].push(r)},bo,r=>{let s=n.listen;n.listen=o=>(!n.lc&&!n.active&&(r(),n.active=!0),s(o));let i=n.off;return n.events[ut]=[],n.off=()=>{setTimeout(()=>{if(n.active&&!n.lc){n.active=!1;for(let o of n.events[ut])o();n.events[ut]=[],i()}},wo)},()=>{n.listen=s,n.off=i}}),he=[],Eo=n=>{let e,t=[],r={lc:0,value:n,set(s){r.value=s,r.notify()},get(){return r.lc||r.listen(()=>{})(),r.value},notify(s){e=t;let i=!he.length;for(let o=0;o<e.length;o++)he.push(e[o],r.value,s);if(i){for(let o=0;o<he.length;o+=3)he[o](he[o+1],he[o+2]);he.length=0}},listen(s){return t===e&&(t=t.slice()),r.lc=t.push(s),()=>{t===e&&(t=t.slice());let i=t.indexOf(s);~i&&(t.splice(i,1),r.lc--)}},subscribe(s){let i=r.listen(s);return s(r.value),i},off(){}};return r},Rn=n=>n,Oe={},zt={addEventListener(){},removeEventListener(){}};typeof localStorage!="undefined"&&(Oe=localStorage);let Oo={addEventListener(n,e){window.addEventListener("storage",e)},removeEventListener(n,e){window.removeEventListener("storage",e)}};typeof window!="undefined"&&(zt=Oo);function pr(n,e,t={}){let r=t.encode||Rn,s=t.decode||Rn,i=Eo(e),o=i.set;i.set=l=>{typeof l=="undefined"?delete Oe[n]:Oe[n]=r(l),o(l)};function a(l){l.key===n?l.newValue===null?o(void 0):o(s(l.newValue)):Oe[n]||o(void 0)}return So(i,()=>{if(o(Oe[n]?s(Oe[n]):e),t.listen!==!1)return zt.addEventListener(n,a),()=>{zt.removeEventListener(n,a)}}),i}var mr={url:"https://puwlrtnztamdvduvutrf.supabase.co",key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB1d2xydG56dGFtZHZkdXZ1dHJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTMxMDk2MjMsImV4cCI6MTk2ODY4NTYyM30.cUYVGAMuqeMqsMs89080A-353G4Bx8wobv5SuXwAnj4"};const $o=pr("magicbroad_supabase.url",mr.url),To=pr("magicbroad_supabase.key",mr.key),ko="1.35.3",gr={"X-Client-Info":`supabase-js/${ko}`},Ao="supabase.auth.token";function xo(n){return n.replace(/\/$/,"")}const Ro=()=>typeof window!="undefined",Co="1.22.15",Po="http://localhost:9999",jo={"X-Client-Info":`gotrue-js/${Co}`},ft=10,fe={ERROR_MESSAGE:"Request Failed",MAX_RETRIES:10,RETRY_INTERVAL:2},ze="supabase.auth.token",Io={name:"sb",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};var rt=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const No=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Do=(n,e)=>{if(!(n!=null&&n.status))return e({message:fe.ERROR_MESSAGE});if(typeof n.json!="function")return e(n);n.json().then(t=>e({message:No(t),status:(n==null?void 0:n.status)||500}))},Uo=(n,e,t)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||(r.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(t)),r};function xt(n,e,t,r,s){return rt(this,void 0,void 0,function*(){return new Promise((i,o)=>{n(t,Uo(e,r,s)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?i:a.json()}).then(a=>i(a)).catch(a=>Do(a,o))})})}function Dt(n,e,t){return rt(this,void 0,void 0,function*(){return xt(n,"GET",e,t)})}function H(n,e,t,r){return rt(this,void 0,void 0,function*(){return xt(n,"POST",e,r,t)})}function Cn(n,e,t,r){return rt(this,void 0,void 0,function*(){return xt(n,"PUT",e,r,t)})}function Lo(n,e,t,r){return rt(this,void 0,void 0,function*(){return xt(n,"DELETE",e,r,t)})}function Bo(n,e,t){const r=t||{},s=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!i.test(n))throw new TypeError("argument name is invalid");const o=s(e);if(o&&!i.test(o))throw new TypeError("argument val is invalid");let a=n+"="+o;if(r.maxAge!=null){const l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(l)}if(r.domain){if(!i.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!i.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function Mo(n){if(!n||!n.headers||!n.headers.host)throw new Error('The "host" request header is not available');const e=n.headers.host.indexOf(":")>-1&&n.headers.host.split(":")[0]||n.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function Fo(n,e){var t,r,s;return Bo(n.name,n.value,{maxAge:n.maxAge,expires:new Date(Date.now()+n.maxAge*1e3),httpOnly:!0,secure:e,path:(t=n.path)!==null&&t!==void 0?t:"/",domain:(r=n.domain)!==null&&r!==void 0?r:"",sameSite:(s=n.sameSite)!==null&&s!==void 0?s:"lax"})}function Gt(n,e,t){const r=t.map(i=>Fo(i,Mo(n))),s=e.getHeader("Set-Cookie");return s&&(s instanceof Array?Array.prototype.push.apply(r,s):typeof s=="string"&&r.push(s)),r}function dt(n,e,t){e.setHeader("Set-Cookie",Gt(n,e,t))}var zo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function yr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ht={exports:{}};(function(n,e){var t=typeof self!="undefined"?self:zo,r=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function l(f){return f&&DataView.prototype.isPrototypeOf(f)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(f){return f&&u.indexOf(Object.prototype.toString.call(f))>-1};function h(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function d(f){return typeof f!="string"&&(f=String(f)),f}function p(f){var g={next:function(){var _=f.shift();return{done:_===void 0,value:_}}};return a.iterable&&(g[Symbol.iterator]=function(){return g}),g}function m(f){this.map={},f instanceof m?f.forEach(function(g,_){this.append(_,g)},this):Array.isArray(f)?f.forEach(function(g){this.append(g[0],g[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(g){this.append(g,f[g])},this)}m.prototype.append=function(f,g){f=h(f),g=d(g);var _=this.map[f];this.map[f]=_?_+", "+g:g},m.prototype.delete=function(f){delete this.map[h(f)]},m.prototype.get=function(f){return f=h(f),this.has(f)?this.map[f]:null},m.prototype.has=function(f){return this.map.hasOwnProperty(h(f))},m.prototype.set=function(f,g){this.map[h(f)]=d(g)},m.prototype.forEach=function(f,g){for(var _ in this.map)this.map.hasOwnProperty(_)&&f.call(g,this.map[_],_,this)},m.prototype.keys=function(){var f=[];return this.forEach(function(g,_){f.push(_)}),p(f)},m.prototype.values=function(){var f=[];return this.forEach(function(g){f.push(g)}),p(f)},m.prototype.entries=function(){var f=[];return this.forEach(function(g,_){f.push([_,g])}),p(f)},a.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function b(f){return new Promise(function(g,_){f.onload=function(){g(f.result)},f.onerror=function(){_(f.error)}})}function C(f){var g=new FileReader,_=b(g);return g.readAsArrayBuffer(f),_}function I(f){var g=new FileReader,_=b(g);return g.readAsText(f),_}function P(f){for(var g=new Uint8Array(f),_=new Array(g.length),L=0;L<g.length;L++)_[L]=String.fromCharCode(g[L]);return _.join("")}function M(f){if(f.slice)return f.slice(0);var g=new Uint8Array(f.byteLength);return g.set(new Uint8Array(f)),g.buffer}function F(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:a.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:a.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():a.arrayBuffer&&a.blob&&l(f)?(this._bodyArrayBuffer=M(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||c(f))?this._bodyArrayBuffer=M(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var f=y(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var f=y(this);if(f)return f;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}var re=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(f){var g=f.toUpperCase();return re.indexOf(g)>-1?g:f}function v(f,g){g=g||{};var _=g.body;if(f instanceof v){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,g.headers||(this.headers=new m(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!_&&f._bodyInit!=null&&(_=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new m(g.headers)),this.method=w(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(_)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})};function E(f){var g=new FormData;return f.trim().split("&").forEach(function(_){if(_){var L=_.split("="),U=L.shift().replace(/\+/g," "),$=L.join("=").replace(/\+/g," ");g.append(decodeURIComponent(U),decodeURIComponent($))}}),g}function W(f){var g=new m,_=f.replace(/\r?\n[\t ]+/g," ");return _.split(/\r?\n/).forEach(function(L){var U=L.split(":"),$=U.shift().trim();if($){var ot=U.join(":").trim();g.append($,ot)}}),g}F.call(v.prototype);function z(f,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new m(g.headers),this.url=g.url||"",this._initBody(f)}F.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},z.error=function(){var f=new z(null,{status:0,statusText:""});return f.type="error",f};var it=[301,302,303,307,308];z.redirect=function(f,g){if(it.indexOf(g)===-1)throw new RangeError("Invalid status code");return new z(null,{status:g,headers:{location:f}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(g,_){this.message=g,this.name=_;var L=Error(g);this.stack=L.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ee(f,g){return new Promise(function(_,L){var U=new v(f,g);if(U.signal&&U.signal.aborted)return L(new o.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function ot(){$.abort()}$.onload=function(){var Fe={status:$.status,statusText:$.statusText,headers:W($.getAllResponseHeaders()||"")};Fe.url="responseURL"in $?$.responseURL:Fe.headers.get("X-Request-URL");var Pt="response"in $?$.response:$.responseText;_(new z(Pt,Fe))},$.onerror=function(){L(new TypeError("Network request failed"))},$.ontimeout=function(){L(new TypeError("Network request failed"))},$.onabort=function(){L(new o.DOMException("Aborted","AbortError"))},$.open(U.method,U.url,!0),U.credentials==="include"?$.withCredentials=!0:U.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&a.blob&&($.responseType="blob"),U.headers.forEach(function(Fe,Pt){$.setRequestHeader(Pt,Fe)}),U.signal&&(U.signal.addEventListener("abort",ot),$.onreadystatechange=function(){$.readyState===4&&U.signal.removeEventListener("abort",ot)}),$.send(typeof U._bodyInit=="undefined"?null:U._bodyInit)})}return ee.polyfill=!0,i.fetch||(i.fetch=ee,i.Headers=m,i.Request=v,i.Response=z),o.Headers=m,o.Request=v,o.Response=z,o.fetch=ee,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e})(Ht,Ht.exports);var Rt=yr(Ht.exports),cn=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};function ce(n){return Math.round(Date.now()/1e3)+n}function Go(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const se=()=>typeof window!="undefined";function le(n,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+n+"(=([^&#]*)|&|#|$)"),s=r.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}const Ho=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=Rt:e=fetch,(...t)=>e(...t)},Jo=(n,e,t)=>cn(void 0,void 0,void 0,function*(){se()&&(yield n==null?void 0:n.setItem(e,JSON.stringify(t)))}),qo=(n,e)=>cn(void 0,void 0,void 0,function*(){const t=se()&&(yield n==null?void 0:n.getItem(e));if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Vo=(n,e)=>{const t=se()&&(n==null?void 0:n.getItem(e));if(!t||typeof t!="string")return null;try{return JSON.parse(t)}catch{return t}},Wo=(n,e)=>cn(void 0,void 0,void 0,function*(){se()&&(yield n==null?void 0:n.removeItem(e))});var N=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class Ko{constructor({url:e="",headers:t={},cookieOptions:r,fetch:s}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},Io),r),this.fetch=Ho(s)}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}cookieName(){var e;return(e=this.cookieOptions.name)!==null&&e!==void 0?e:""}getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];return t!=null&&t.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${r.join("&")}`}signUpWithEmail(e,t,r={}){return N(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="";r.redirectTo&&(i="?redirect_to="+encodeURIComponent(r.redirectTo));const o=yield H(this.fetch,`${this.url}/signup${i}`,{email:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:s}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=ce(o.expires_in)),{data:a,error:null}}catch(s){return{data:null,error:s}}})}signInWithEmail(e,t,r={}){return N(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="?grant_type=password";r.redirectTo&&(i+="&redirect_to="+encodeURIComponent(r.redirectTo));const o=yield H(this.fetch,`${this.url}/token${i}`,{email:e,password:t},{headers:s}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=ce(o.expires_in)),{data:a,error:null}}catch(s){return{data:null,error:s}}})}signUpWithPhone(e,t,r={}){return N(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers),i=yield H(this.fetch,`${this.url}/signup`,{phone:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:s}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=ce(i.expires_in)),{data:o,error:null}}catch(s){return{data:null,error:s}}})}signInWithPhone(e,t){return N(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers),s="?grant_type=password",i=yield H(this.fetch,`${this.url}/token${s}`,{phone:e,password:t},{headers:r}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=ce(i.expires_in)),{data:o,error:null}}catch(r){return{data:null,error:r}}})}signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:s,provider:i}){return N(this,void 0,void 0,function*(){try{const o=Object.assign({},this.headers),a="?grant_type=id_token",l=yield H(this.fetch,`${this.url}/token${a}`,{id_token:e,nonce:t,client_id:r,issuer:s,provider:i},{headers:o}),u=Object.assign({},l);return u.expires_in&&(u.expires_at=ce(l.expires_in)),{data:u,error:null}}catch(o){return{data:null,error:o}}})}sendMagicLinkEmail(e,t={}){var r;return N(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="";t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo));const o=(r=t.shouldCreateUser)!==null&&r!==void 0?r:!0;return{data:yield H(this.fetch,`${this.url}/otp${i}`,{email:e,create_user:o,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:s}),error:null}}catch(s){return{data:null,error:s}}})}sendMobileOTP(e,t={}){var r;return N(this,void 0,void 0,function*(){try{const s=(r=t.shouldCreateUser)!==null&&r!==void 0?r:!0,i=Object.assign({},this.headers);return{data:yield H(this.fetch,`${this.url}/otp`,{phone:e,create_user:s,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:i}),error:null}}catch(s){return{data:null,error:s}}})}signOut(e){return N(this,void 0,void 0,function*(){try{return yield H(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(t){return{error:t}}})}verifyMobileOTP(e,t,r={}){return N(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers),i=yield H(this.fetch,`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:s}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=ce(i.expires_in)),{data:o,error:null}}catch(s){return{data:null,error:s}}})}verifyOTP({email:e,phone:t,token:r,type:s="sms"},i={}){return N(this,void 0,void 0,function*(){try{const o=Object.assign({},this.headers),a=yield H(this.fetch,`${this.url}/verify`,{email:e,phone:t,token:r,type:s,redirect_to:i.redirectTo},{headers:o}),l=Object.assign({},a);return l.expires_in&&(l.expires_at=ce(a.expires_in)),{data:l,error:null}}catch(o){return{data:null,error:o}}})}inviteUserByEmail(e,t={}){return N(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let s="";return t.redirectTo&&(s+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield H(this.fetch,`${this.url}/invite${s}`,{email:e,data:t.data},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}resetPasswordForEmail(e,t={}){return N(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let s="";return t.redirectTo&&(s+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield H(this.fetch,`${this.url}/recover${s}`,{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}refreshAccessToken(e){return N(this,void 0,void 0,function*(){try{const t=yield H(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),r=Object.assign({},t);return r.expires_in&&(r.expires_at=ce(t.expires_in)),{data:r,error:null}}catch(t){return{data:null,error:t}}})}setAuthCookie(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:s}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!s)throw new Error("Auth session missing!");dt(e,t,[{key:"access-token",value:s.access_token},{key:"refresh-token",value:s.refresh_token}].map(i=>{var o;return{name:`${this.cookieName()}-${i.key}`,value:i.value,domain:this.cookieOptions.domain,maxAge:(o=this.cookieOptions.lifetime)!==null&&o!==void 0?o:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}r==="SIGNED_OUT"&&dt(e,t,["access-token","refresh-token"].map(i=>({name:`${this.cookieName()}-${i}`,value:"",maxAge:-1}))),t.status(200).json({})}deleteAuthCookie(e,t,{redirectTo:r="/"}){return dt(e,t,["access-token","refresh-token"].map(s=>({name:`${this.cookieName()}-${s}`,value:"",maxAge:-1}))),t.redirect(307,r)}getAuthCookieString(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:s}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!s)throw new Error("Auth session missing!");return Gt(e,t,[{key:"access-token",value:s.access_token},{key:"refresh-token",value:s.refresh_token}].map(i=>{var o;return{name:`${this.cookieName()}-${i.key}`,value:i.value,domain:this.cookieOptions.domain,maxAge:(o=this.cookieOptions.lifetime)!==null&&o!==void 0?o:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}return r==="SIGNED_OUT"?Gt(e,t,["access-token","refresh-token"].map(i=>({name:`${this.cookieName()}-${i}`,value:"",maxAge:-1}))):t.getHeader("Set-Cookie")}generateLink(e,t,r={}){return N(this,void 0,void 0,function*(){try{return{data:yield H(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(s){return{data:null,error:s}}})}createUser(e){return N(this,void 0,void 0,function*(){try{const t=yield H(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}listUsers(){return N(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return N(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}getUserByCookie(e,t){return N(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const r=e.cookies[`${this.cookieName()}-access-token`],s=e.cookies[`${this.cookieName()}-refresh-token`];if(!r)throw new Error("No cookie found!");const{user:i,error:o}=yield this.getUser(r);if(o){if(!s)throw new Error("No refresh_token cookie found!");if(!t)throw new Error("You need to pass the res object to automatically refresh the session!");const{data:a,error:l}=yield this.refreshAccessToken(s);if(l)throw l;if(a)return dt(e,t,[{key:"access-token",value:a.access_token},{key:"refresh-token",value:a.refresh_token}].map(u=>{var c;return{name:`${this.cookieName()}-${u.key}`,value:u.value,domain:this.cookieOptions.domain,maxAge:(c=this.cookieOptions.lifetime)!==null&&c!==void 0?c:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}})),{token:a.access_token,user:a.user,data:a.user,error:null}}return{token:r,user:i,data:i,error:null}}catch(r){return{token:null,user:null,data:null,error:r}}})}updateUserById(e,t){return N(this,void 0,void 0,function*(){try{const r=yield Cn(this.fetch,`${this.url}/admin/users/${e}`,t,{headers:this.headers});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}deleteUser(e){return N(this,void 0,void 0,function*(){try{const t=yield Lo(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}getUser(e){return N(this,void 0,void 0,function*(){try{const t=yield Dt(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}updateUser(e,t){return N(this,void 0,void 0,function*(){try{const r=yield Cn(this.fetch,`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}}function Xo(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var J=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};Xo();const Yo={url:Po,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:jo};class Zo{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0;const t=Object.assign(Object.assign({},Yo),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.multiTab=t.multiTab,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new Ko({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions,fetch:t.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),this._handleVisibilityChange(),t.detectSessionInUrl&&se()&&!!le("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:r})=>{r&&console.error("Error getting session from URL.",r)})}signUp({email:e,password:t,phone:r},s={}){return J(this,void 0,void 0,function*(){try{this._removeSession();const{data:i,error:o}=r&&t?yield this.api.signUpWithPhone(r,t,{data:s.data,captchaToken:s.captchaToken}):yield this.api.signUpWithEmail(e,t,{redirectTo:s.redirectTo,data:s.data,captchaToken:s.captchaToken});if(o)throw o;if(!i)throw"An error occurred on sign up.";let a=null,l=null;return i.access_token&&(a=i,l=a.user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(l=i),{user:l,session:a,error:null}}catch(i){return{user:null,session:null,error:i}}})}signIn({email:e,phone:t,password:r,refreshToken:s,provider:i,oidc:o},a={}){return J(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!r){const{error:l}=yield this.api.sendMagicLinkEmail(e,{redirectTo:a.redirectTo,shouldCreateUser:a.shouldCreateUser,captchaToken:a.captchaToken});return{user:null,session:null,error:l}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:a.redirectTo});if(t&&!r){const{error:l}=yield this.api.sendMobileOTP(t,{shouldCreateUser:a.shouldCreateUser,captchaToken:a.captchaToken});return{user:null,session:null,error:l}}if(t&&r)return this._handlePhoneSignIn(t,r);if(s){const{error:l}=yield this._callRefreshToken(s);if(l)throw l;return{user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:a.redirectTo,scopes:a.scopes});if(o)return this._handleOpenIDConnectSignIn(o);throw new Error("You must provide either an email, phone number, a third-party provider or OpenID Connect.")}catch(l){return{user:null,session:null,error:l}}})}verifyOTP(e,t={}){return J(this,void 0,void 0,function*(){try{this._removeSession();const{data:r,error:s}=yield this.api.verifyOTP(e,t);if(s)throw s;if(!r)throw"An error occurred on token verification.";let i=null,o=null;return r.access_token&&(i=r,o=i.user,this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN")),r.id&&(o=r),{user:o,session:i,error:null}}catch(r){return{user:null,session:null,error:r}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return J(this,void 0,void 0,function*(){try{if(!(!((e=this.currentSession)===null||e===void 0)&&e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(t){return{data:null,user:null,error:t}}})}update(e){var t;return J(this,void 0,void 0,function*(){try{if(!(!((t=this.currentSession)===null||t===void 0)&&t.access_token))throw new Error("Not logged in.");const{user:r,error:s}=yield this.api.updateUser(this.currentSession.access_token,e);if(s)throw s;if(!r)throw Error("Invalid user data.");const i=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(r){return{data:null,user:null,error:r}}})}setSession(e){return J(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null})}catch(t){return{error:t,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:this.user()}),this._notifyAllSubscribers("TOKEN_REFRESHED"),this.currentSession}getSessionFromUrl(e){return J(this,void 0,void 0,function*(){try{if(!se())throw new Error("No browser detected.");const t=le("error_description");if(t)throw new Error(t);const r=le("provider_token"),s=le("access_token");if(!s)throw new Error("No access_token detected.");const i=le("expires_in");if(!i)throw new Error("No expires_in detected.");const o=le("refresh_token");if(!o)throw new Error("No refresh_token detected.");const a=le("token_type");if(!a)throw new Error("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(i),{user:c,error:h}=yield this.api.getUser(s);if(h)throw h;const d={provider_token:r,access_token:s,expires_in:parseInt(i),expires_at:u,refresh_token:o,token_type:a,user:c};if(e!=null&&e.storeSession){this._saveSession(d);const p=le("type");this._notifyAllSubscribers("SIGNED_IN"),p==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:d,error:null}}catch(t){return{data:null,error:t}}})}signOut(){var e;return J(this,void 0,void 0,function*(){const t=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:r}=yield this.api.signOut(t);if(r)return{error:r}}return{error:null}})}onAuthStateChange(e){try{const t=Go(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:r,error:null}}catch(t){return{data:null,error:t}}}_handleEmailSignIn(e,t,r={}){var s,i;return J(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return a||!o?{data:null,user:null,session:null,error:a}:((((s=o==null?void 0:o.user)===null||s===void 0?void 0:s.confirmed_at)||((i=o==null?void 0:o.user)===null||i===void 0?void 0:i.email_confirmed_at))&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),{data:o,user:o.user,session:o,error:null})}catch(o){return{data:null,user:null,session:null,error:o}}})}_handlePhoneSignIn(e,t){var r;return J(this,void 0,void 0,function*(){try{const{data:s,error:i}=yield this.api.signInWithPhone(e,t);return i||!s?{data:null,user:null,session:null,error:i}:(!((r=s==null?void 0:s.user)===null||r===void 0)&&r.phone_confirmed_at&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(s){return{data:null,user:null,session:null,error:s}}})}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return se()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(s){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:s}}}_handleOpenIDConnectSignIn({id_token:e,nonce:t,client_id:r,issuer:s,provider:i}){return J(this,void 0,void 0,function*(){if(e&&t&&(r&&s||i))try{const{data:o,error:a}=yield this.api.signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:s,provider:i});return a||!o?{user:null,session:null,error:a}:(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN"),{user:o.user,session:o,error:null})}catch(o){return{user:null,session:null,error:o}}throw new Error("You must provide a OpenID Connect provider with your id token and nonce.")})}_recoverSession(){try{const e=Vo(this.localStorage,ze);if(!e)return null;const{currentSession:t,expiresAt:r}=e,s=Math.round(Date.now()/1e3);r>=s+ft&&(t==null?void 0:t.user)&&(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}_recoverAndRefresh(){return J(this,void 0,void 0,function*(){try{const e=yield qo(this.localStorage,ze);if(!e)return null;const{currentSession:t,expiresAt:r}=e,s=Math.round(Date.now()/1e3);if(r<s+ft)if(this.autoRefreshToken&&t.refresh_token){this.networkRetries++;const{error:i}=yield this._callRefreshToken(t.refresh_token);if(i){if(console.log(i.message),i.message===fe.ERROR_MESSAGE&&this.networkRetries<fe.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(fe.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else this._removeSession();else t?(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}})}_callRefreshToken(e){var t;return e===void 0&&(e=(t=this.currentSession)===null||t===void 0?void 0:t.refresh_token),J(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:s}=yield this.api.refreshAccessToken(e);if(s)throw s;if(!r)throw Error("Invalid session data.");return this._saveSession(r),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:r,error:null}}catch(r){return{data:null,error:r}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(t=>t.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const r=Math.round(Date.now()/1e3),s=t-r,i=s>ft?ft:.5;this._startAutoRefreshToken((s-i)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};Jo(this.localStorage,ze,t)}_removeSession(){return J(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),Wo(this.localStorage,ze)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>J(this,void 0,void 0,function*(){this.networkRetries++;const{error:t}=yield this._callRefreshToken();t||(this.networkRetries=0),(t==null?void 0:t.message)===fe.ERROR_MESSAGE&&this.networkRetries<fe.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(fe.RETRY_INTERVAL,this.networkRetries)*100)}),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!se()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var t;if(e.key===ze){const r=JSON.parse(String(e.newValue));!((t=r==null?void 0:r.currentSession)===null||t===void 0)&&t.access_token?(this._saveSession(r.currentSession),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}_handleVisibilityChange(){if(!this.multiTab||!se()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this._recoverAndRefresh()})}catch(e){console.error("_handleVisibilityChange",e)}}}class Qo extends Zo{constructor(e){super(e)}}var ea=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class ln{constructor(e){Object.assign(this,e);let t;e.fetch?t=e.fetch:typeof fetch=="undefined"?t=Rt:t=fetch,this.fetch=(...r)=>t(...r),this.shouldThrowOnError=e.shouldThrowOnError||!1}throwOnError(e){return e==null&&(e=!0),this.shouldThrowOnError=e,this}then(e,t){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>ea(this,void 0,void 0,function*(){var i,o,a;let l=null,u=null,c=null;if(s.ok){const d=(i=this.headers.Prefer)===null||i===void 0?void 0:i.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!d){const y=yield s.text();y&&(this.headers.Accept==="text/csv"?u=y:u=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),m=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");p&&m&&m.length>1&&(c=parseInt(m[1]))}else{const d=yield s.text();try{l=JSON.parse(d)}catch{l={message:d}}if(l&&this.shouldThrowOnError)throw l}return{error:l,data:u,count:c,status:s.status,statusText:s.statusText,body:u}}));return this.shouldThrowOnError||(r=r.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),r.then(e,t)}}class un extends ln{select(e="*"){let t=!1;const r=e.split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:s}={}){const i=typeof s=="undefined"?"order":`${s}.order`,o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t=="undefined"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const s=typeof r=="undefined"?"offset":`${r}.offset`,i=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new un(this);return e.then=(t,r)=>this.then(s=>{var i,o;return!((o=(i=s.error)===null||i===void 0?void 0:i.details)===null||o===void 0)&&o.includes("Results contain 0 rows")?t({error:null,data:null,count:s.count,status:200,statusText:"OK",body:null}):t(s)},r),e}csv(){return this.headers.Accept="text/csv",this}}class $e extends un{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=typeof t=="undefined"?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s=null}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${i}fts${o}.${t}`),this}fts(e,t,{config:r}={}){const s=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${s}.${t}`),this}plfts(e,t,{config:r}={}){const s=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${s}.${t}`),this}phfts(e,t,{config:r}={}){const s=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${s}.${t}`),this}wfts(e,t,{config:r}={}){const s=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${s}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach(t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)}),this}}class vr extends ln{constructor(e,{headers:t={},schema:r,fetch:s,shouldThrowOnError:i}={}){super({fetch:s,shouldThrowOnError:i}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let s=!1;const i=e.split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new $e(this)}insert(e,{upsert:t=!1,onConflict:r,returning:s="representation",count:i=null}={}){this.method="POST";const o=[`return=${s}`];if(t&&o.push("resolution=merge-duplicates"),t&&r!==void 0&&this.url.searchParams.set("on_conflict",r),this.body=e,i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new $e(this)}upsert(e,{onConflict:t,returning:r="representation",count:s=null,ignoreDuplicates:i=!1}={}){this.method="POST";const o=[`resolution=${i?"ignore":"merge"}-duplicates`,`return=${r}`];return t!==void 0&&this.url.searchParams.set("on_conflict",t),this.body=e,s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new $e(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const s=[`return=${t}`];return this.body=e,r&&s.push(`count=${r}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new $e(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new $e(this)}}class ta extends ln{constructor(e,{headers:t={},schema:r,fetch:s,shouldThrowOnError:i}={}){super({fetch:s,shouldThrowOnError:i}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{head:t=!1,count:r=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach(([s,i])=>{this.url.searchParams.append(s,i)})):(this.method="POST",this.body=e),r&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${r}`:this.headers.Prefer=`count=${r}`),new $e(this)}}const na="0.37.2",ra={"X-Client-Info":`postgrest-js/${na}`};class sa{constructor(e,{headers:t={},schema:r,fetch:s,throwOnError:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},ra),t),this.schema=r,this.fetch=s,this.shouldThrowOnError=i}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new vr(t,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:s=null}={}){const i=`${this.url}/rpc/${e}`;return new ta(i,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError}).rpc(t,{head:r,count:s})}}var k;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(k||(k={}));const Pn=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=ia(o,n,e,s),i),{})},ia=(n,e,t,r)=>{const s=e.find(a=>a.name===n),i=s==null?void 0:s.type,o=t[n];return i&&!r.includes(i)?br(i,o):Jt(o)},br=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return la(e,t)}switch(n){case k.bool:return oa(e);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return aa(e);case k.json:case k.jsonb:return ca(e);case k.timestamp:return ua(e);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:return Jt(e);default:return Jt(e)}},Jt=n=>n,oa=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},aa=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},ca=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},la=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i;const o=n.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>br(e,a))}return n},ua=n=>typeof n=="string"?n.replace(" ","T"):n,ha="websocket",fa="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",da=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],pa="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",ma=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],ga="1.0.34",ya={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},va="https://github.com/theturtle32/WebSocket-Node",ba={node:">=4.0.0"},_a={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},wa={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Sa={verbose:!1},Ea={test:"tape test/unit/*.js",gulp:"gulp"},Oa="index",$a={lib:"./lib"},Ta="lib/browser.js",ka="Apache-2.0";var Aa={name:ha,description:fa,keywords:da,author:pa,contributors:ma,version:ga,repository:ya,homepage:va,engines:ba,dependencies:_a,devDependencies:wa,config:Sa,scripts:Ea,main:Oa,directories:$a,browser:Ta,license:ka},xa=Aa.version,de;if(typeof globalThis=="object")de=globalThis;else try{de=require("es5-ext/global")}catch{}finally{if(!de&&typeof window!="undefined"&&(de=window),!de)throw new Error("Could not determine global this")}var Qe=de.WebSocket||de.MozWebSocket,Ra=xa;function _r(n,e){var t;return e?t=new Qe(n,e):t=new Qe(n),t}Qe&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(n){Object.defineProperty(_r,n,{get:function(){return Qe[n]}})});var Ca={w3cwebsocket:Qe?_r:null,version:Ra};const Pa="1.7.2",ja={"X-Client-Info":`realtime-js/${Pa}`},Ia="1.0.0",wr=1e4,Na=1e3;var Xe;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Xe||(Xe={}));var A;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(A||(A={}));var B;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(B||(B={}));var qt;(function(n){n.websocket="websocket"})(qt||(qt={}));var pe;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(pe||(pe={}));class hn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Da{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ie{constructor(e,t,r={},s=wr){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel instanceof Vt?this.channel.on(this.refEvent,e):this.channel.on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||(this.channel instanceof Vt?this.channel.off(this.refEvent):this.channel.off(this.refEvent,{}))}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class Vt{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=A.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Ie(this,B.join,this.params,this.timeout),this.rejoinTimer=new hn(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=A.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=A.closed,this.socket.remove(this)}),this.onError(s=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=A.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=A.errored,this.rejoinTimer.scheduleTimeout())}),this.on(B.reply,(s,i)=>{this.trigger(this.replyEventName(i),s)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(B.close,e)}onError(e){this.on(B.error,t=>e(t))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter(t=>t.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ie(this,e,t,r);return this.canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=A.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(B.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new Ie(this,B.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=A.joining,this.joinPush.resend(e))}trigger(e,t,r){let{close:s,error:i,leave:o,join:a}=B;if(r&&[s,i,o,a].indexOf(e)>=0&&r!==this.joinRef())return;let u=this.onMessage(e,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(c=>c.event==="*"?e===(t==null?void 0:t.type):c.event===e).map(c=>c.callback(u,r))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===A.closed}isErrored(){return this.state===A.errored}isJoined(){return this.state===A.joined}isJoining(){return this.state===A.joining}isLeaving(){return this.state===A.leaving}}class Te{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel.on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel.joinRef(),this.state=Te.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Te.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel.on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Te.syncDiff(this.state,s,i,o),a())})}static syncState(e,t,r,s){const i=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(b=>b.presence_id),p=h.map(b=>b.presence_id),m=c.filter(b=>p.indexOf(b.presence_id)<0),y=h.filter(b=>d.indexOf(b.presence_id)<0);m.length>0&&(a[u]=m),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,t,r,s){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{const u=e[a];if(e[a]=this.cloneDeep(l),u){const c=e[a].map(d=>d.presence_id),h=u.filter(d=>c.indexOf(d.presence_id)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_id);u=u.filter(h=>c.indexOf(h.presence_id)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static list(e,t){return t||(t=(r,s)=>s),this.map(e,(r,s)=>t(r,s))}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(i=>(i.presence_id=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}list(e){return Te.list(this.state,e)}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}class St{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=A.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Ie(this,B.join,this.params,this.timeout),this.rejoinTimer=new hn(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=A.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=A.closed,this.socket.remove(this)}),this.onError(s=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=A.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=A.errored,this.rejoinTimer.scheduleTimeout())}),this.on(B.reply,{},(s,i)=>{this.trigger(this.replyEventName(i),s)}),this.presence=new Te(this)}list(){return this.presence.list()}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const t=this.bindings.reduce((r,s)=>{const{type:i}=s;return["phx_close","phx_error","phx_reply","presence_diff","presence_state"].includes(i)||(r[i]=s),r},{});return Object.keys(t).length&&this.updateJoinPayload({configs:t}),this.joinedOnce=!0,this.rejoin(e),this.joinPush}}onClose(e){this.on(B.close,{},e)}onError(e){this.on(B.error,{},t=>e(t))}on(e,t,r){this.bindings.push({type:e,filter:t!=null?t:{},callback:r!=null?r:()=>{}})}off(e,t){this.bindings=this.bindings.filter(r=>!(r.type===e&&St.isEqual(r.filter,t)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ie(this,e,t,r);return this.canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=A.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(B.close,"leave",this.joinRef())};this.joinPush.destroy();const r=new Ie(this,B.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=A.joining,this.joinPush.resend(e))}trigger(e,t,r){const{close:s,error:i,leave:o,join:a}=B;if(r&&[s,i,o,a].indexOf(e)>=0&&r!==this.joinRef())return;const u=this.onMessage(e,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(c=>{var h,d;return(c==null?void 0:c.type)===e&&(((h=c==null?void 0:c.filter)===null||h===void 0?void 0:h.event)==="*"||((d=c==null?void 0:c.filter)===null||d===void 0?void 0:d.event)===(t==null?void 0:t.event))}).map(c=>c.callback(u,r))}send(e){const t=this.push(e.type,e);return new Promise((r,s)=>{t.receive("ok",()=>r("ok")),t.receive("timeout",()=>s("timeout"))})}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===A.closed}isErrored(){return this.state===A.errored}isJoined(){return this.state===A.joined}isJoining(){return this.state===A.joining}isLeaving(){return this.state===A.leaving}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}}var Ua=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},La=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ba=()=>{};class Ma{constructor(e,t){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=ja,this.params={},this.timeout=wr,this.transport=Ca.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ba,this.conn=null,this.sendBuffer=[],this.serializer=new Da,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${qt.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),t!=null&&t.longpollerTimeout&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(r,s)=>s(JSON.stringify(r)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hn(()=>Ua(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise((r,s)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(i){r({error:i,data:!1})}})}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case Xe.connecting:return pe.Connecting;case Xe.open:return pe.Open;case Xe.closing:return pe.Closing;default:return pe.Closed}}isConnected(){return this.connectionState()===pe.Open}remove(e){this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}channel(e,t={}){var r;const{selfBroadcast:s}=t,i=La(t,["selfBroadcast"]);s&&(i.self_broadcast=s);const o=!((r=this.params)===null||r===void 0)&&r.vsndate?new St(e,i,this):new Vt(e,i,this);return o instanceof St&&(o.presence.onJoin((a,l,u)=>{o.trigger("presence",{event:"JOIN",key:a,currentPresences:l,newPresences:u})}),o.presence.onLeave((a,l,u)=>{o.trigger("presence",{event:"LEAVE",key:a,currentPresences:l,leftPresences:u})}),o.presence.onSync(()=>{o.trigger("presence",{event:"SYNC"})})),this.channels.push(o),o}push(e){const{topic:t,event:r,payload:s,ref:i}=e;let o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:i,ref:o}=t;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a.isMember(r)).forEach(a=>a.trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ia}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(B.access_token,{access_token:e})})}leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r.isJoined()||r.isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(B.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Na,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Fa{constructor(e,t,r,s){const i={},o=s==="*"?`realtime:${r}`:`realtime:${r}:${s}`,a=t.Authorization.split(" ")[1];a&&(i.user_token=a),this.subscription=e.channel(o,i)}getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Pn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Pn(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,r=>{let s={schema:r.schema,table:r.table,commit_timestamp:r.commit_timestamp,eventType:r.type,new:{},old:{},errors:r.errors};s=Object.assign(Object.assign({},s),this.getPayloadRecords(r)),t(s)}),this}subscribe(e=()=>{}){return this.subscription.onError(t=>e("SUBSCRIPTION_ERROR",t)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",t=>e("SUBSCRIPTION_ERROR",t)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class za extends vr{constructor(e,{headers:t={},schema:r,realtime:s,table:i,fetch:o,shouldThrowOnError:a}){super(e,{headers:t,schema:r,fetch:o,shouldThrowOnError:a}),this._subscription=null,this._realtime=s,this._headers=t,this._schema=r,this._table=i}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new Fa(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}const Ga="0.0.0",Ha={"X-Client-Info":`storage-js/${Ga}`};var st=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Ja=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),qa=(n,e)=>{if(typeof n.json!="function")return e(n);n.json().then(t=>e({message:Ja(t),status:(n==null?void 0:n.status)||500}))},Va=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};function Ct(n,e,t,r,s,i){return st(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,Va(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?o(l):l.json()}).then(l=>o(l)).catch(l=>qa(l,a))})})}function Wt(n,e,t,r){return st(this,void 0,void 0,function*(){return Ct(n,"GET",e,t,r)})}function me(n,e,t,r,s){return st(this,void 0,void 0,function*(){return Ct(n,"POST",e,r,s,t)})}function Wa(n,e,t,r,s){return st(this,void 0,void 0,function*(){return Ct(n,"PUT",e,r,s,t)})}function Sr(n,e,t,r,s){return st(this,void 0,void 0,function*(){return Ct(n,"DELETE",e,r,s,t)})}const Er=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=Rt:e=fetch,(...t)=>e(...t)};var Se=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class Ka{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Ha),t),this.fetch=Er(r)}listBuckets(){return Se(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}createBucket(e,t={public:!1}){return Se(this,void 0,void 0,function*(){try{return{data:(yield me(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(r){return{data:null,error:r}}})}updateBucket(e,t){return Se(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}emptyBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield me(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}deleteBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}}var te=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Xa={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ya={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Za{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Er(s)}uploadOrUpdate(e,t,r,s){return te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ya),s),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,{method:e,body:i,headers:a});if(c.ok)return{data:{Key:u},error:null};{const h=yield c.json();return{data:null,error:h}}}catch(i){return{data:null,error:i}}})}upload(e,t,r){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return te(this,void 0,void 0,function*(){try{return{data:yield me(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}copy(e,t){return te(this,void 0,void 0,function*(){try{return{data:yield me(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createSignedUrl(e,t){return te(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);let s=yield me(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const i=`${this.url}${s.signedURL}`;return s={signedURL:i},{data:s,error:null,signedURL:i}}catch(r){return{data:null,error:r,signedURL:null}}})}createSignedUrls(e,t){return te(this,void 0,void 0,function*(){try{return{data:(yield me(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers})).map(s=>Object.assign(Object.assign({},s),{signedURL:s.signedURL?`${this.url}${s.signedURL}`:null})),error:null}}catch(r){return{data:null,error:r}}})}download(e){return te(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield Wt(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){return{data:null,error:t}}})}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(t){return{data:null,error:t,publicURL:null}}}remove(e){return te(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}list(e,t,r){return te(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Xa),t),{prefix:e||""});return{data:yield me(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){return{data:null,error:s}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class Qa extends Ka{constructor(e,t={},r){super(e,t,r)}from(e){return new Za(this.url,this.headers,e,this.fetch)}}const ec=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=Rt:e=fetch,(...t)=>e(...t)};var tc=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class nc{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=ec(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t){return tc(this,void 0,void 0,function*(){try{const{headers:r,body:s}=t!=null?t:{},i=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign({},this.headers,r),body:s}),o=i.headers.get("x-relay-error");if(o&&o==="true")return{data:null,error:new Error(yield i.text())};let a;const{responseType:l}=t!=null?t:{};return!l||l==="json"?a=yield i.json():l==="arrayBuffer"?a=yield i.arrayBuffer():l==="blob"?a=yield i.blob():a=yield i.text(),{data:a,error:null}}catch(r){return{data:null,error:r}}})}}var pt=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const rc={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:gr};class sc{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=xo(e),i=Object.assign(Object.assign({},rc),r);if(this.restUrl=`${s}/rest/v1`,this.realtimeUrl=`${s}/realtime/v1`.replace("http","ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,s.match(/(supabase\.co)|(supabase\.in)/)){const a=s.split(".");this.functionsUrl=`${a[0]}.functions.${a[1]}.${a[2]}`}else this.functionsUrl=`${s}/functions/v1`;this.schema=i.schema,this.multiTab=i.multiTab,this.fetch=i.fetch,this.headers=Object.assign(Object.assign({},gr),r==null?void 0:r.headers),this.shouldThrowOnError=i.shouldThrowOnError||!1,this.auth=this._initSupabaseAuthClient(i),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},i.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get functions(){return new nc(this.functionsUrl,{headers:this._getAuthHeaders(),customFetch:this.fetch})}get storage(){return new Qa(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const t=`${this.restUrl}/${e}`;return new za(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:s=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:r,count:s})}channel(e,t){var r,s;const i=(s=(r=this.auth.session())===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey;return this.realtime.isConnected()||this.realtime.connect(),this.realtime.channel(e,Object.assign(Object.assign({},t),{user_token:i}))}removeAllSubscriptions(){return pt(this,void 0,void 0,function*(){const e=this.getSubscriptions().slice(),t=e.map(s=>this.removeSubscription(s));return(yield Promise.all(t)).map(({error:s},i)=>({data:{subscription:e[i]},error:s}))})}removeChannel(e){return pt(this,void 0,void 0,function*(){const{error:t}=yield this._closeSubscription(e),r=this.getSubscriptions(),s=r.filter(i=>i.isJoined()).length;return r.length===0&&(yield this.realtime.disconnect()),{data:{openChannels:s},error:t}})}removeSubscription(e){return pt(this,void 0,void 0,function*(){const{error:t}=yield this._closeSubscription(e),r=this.getSubscriptions(),s=r.filter(i=>i.isJoined()).length;return r.length===0&&(yield this.realtime.disconnect()),{data:{openSubscriptions:s},error:t}})}_closeSubscription(e){return pt(this,void 0,void 0,function*(){let t=null;if(!e.isClosed()){const{error:r}=yield this._unsubscribeSubscription(e);t=r}return this.realtime.remove(e),{error:t}})}_unsubscribeSubscription(e){return new Promise(t=>{e.unsubscribe().receive("ok",()=>t({error:null})).receive("error",r=>t({error:r})).receive("timeout",()=>t({error:new Error("timed out")}))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:s,headers:i,fetch:o,cookieOptions:a,multiTab:l}){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qo({url:this.authUrl,headers:Object.assign(Object.assign({},i),u),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:s,fetch:o,cookieOptions:a,multiTab:l})}_initRealtimeClient(e){return new Ma(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new sa(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch,throwOnError:this.shouldThrowOnError})}_getAuthHeaders(){var e,t;const r=Object.assign({},this.headers),s=(t=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=r.Authorization||`Bearer ${s}`,r}_listenForMultiTabEvents(){if(!this.multiTab||!Ro()||!(window!=null&&window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var t,r,s;if(e.key===Ao){const i=JSON.parse(String(e.newValue)),o=(r=(t=i==null?void 0:i.currentSession)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0,a=(s=this.auth.session())===null||s===void 0?void 0:s.access_token;o?!a&&o?this._handleTokenChanged("SIGNED_IN",o,"STORAGE"):a!==o&&this._handleTokenChanged("TOKEN_REFRESHED",o,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",o,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")});return e}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t),r=="STORAGE"&&this.auth.setAuth(t),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut())}}const ic=(n,e,t)=>new sc(n,e,t),oc=ic($o.get(),To.get(),{realtime:{params:{vsndate:"1.0.0"}}});var Or={};function ac(n){for(var e=5381,t=n.length;t;)e=e*33^n.charCodeAt(--t);return e>>>0}var cc=ac,$r={};(function(n){n.__esModule=!0,n.default=void 0;function e(a,l){for(var u=0;u<l.length;u++){var c=l[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function t(a,l,u){return l&&e(a.prototype,l),u&&e(a,u),a}var r=typeof process!="undefined"&&process.env&&!0,s=function(l){return Object.prototype.toString.call(l)==="[object String]"},i=function(){function a(u){var c=u===void 0?{}:u,h=c.name,d=h===void 0?"stylesheet":h,p=c.optimizeForSpeed,m=p===void 0?r:p,y=c.isBrowser,b=y===void 0?typeof window!="undefined":y;o(s(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",o(typeof m=="boolean","`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=m,this._isBrowser=b,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var C=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=C?C.getAttribute("content"):null}var l=a.prototype;return l.setOptimizeForSpeed=function(c){o(typeof c=="boolean","`setOptimizeForSpeed` accepts a boolean"),o(this._rulesCount===0,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=c,this.inject()},l.isOptimizeForSpeed=function(){return this._optimizeForSpeed},l.inject=function(){var c=this;if(o(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(r||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(d,p){return typeof p=="number"?c._serverSheet.cssRules[p]={cssText:d}:c._serverSheet.cssRules.push({cssText:d}),p},deleteRule:function(d){c._serverSheet.cssRules[d]=null}}},l.getSheetForTag=function(c){if(c.sheet)return c.sheet;for(var h=0;h<document.styleSheets.length;h++)if(document.styleSheets[h].ownerNode===c)return document.styleSheets[h]},l.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},l.insertRule=function(c,h){if(o(s(c),"`insertRule` accepts only strings"),!this._isBrowser)return typeof h!="number"&&(h=this._serverSheet.cssRules.length),this._serverSheet.insertRule(c,h),this._rulesCount++;if(this._optimizeForSpeed){var d=this.getSheet();typeof h!="number"&&(h=d.cssRules.length);try{d.insertRule(c,h)}catch{return r||console.warn(`StyleSheet: illegal rule: 

`+c+`

See https://stackoverflow.com/q/20007992 for more info`),-1}}else{var p=this._tags[h];this._tags.push(this.makeStyleTag(this._name,c,p))}return this._rulesCount++},l.replaceRule=function(c,h){if(this._optimizeForSpeed||!this._isBrowser){var d=this._isBrowser?this.getSheet():this._serverSheet;if(h.trim()||(h=this._deletedRulePlaceholder),!d.cssRules[c])return c;d.deleteRule(c);try{d.insertRule(h,c)}catch{r||console.warn(`StyleSheet: illegal rule: 

`+h+`

See https://stackoverflow.com/q/20007992 for more info`),d.insertRule(this._deletedRulePlaceholder,c)}}else{var p=this._tags[c];o(p,"old rule at index `"+c+"` not found"),p.textContent=h}return c},l.deleteRule=function(c){if(!this._isBrowser){this._serverSheet.deleteRule(c);return}if(this._optimizeForSpeed)this.replaceRule(c,"");else{var h=this._tags[c];o(h,"rule at index `"+c+"` not found"),h.parentNode.removeChild(h),this._tags[c]=null}},l.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach(function(c){return c&&c.parentNode.removeChild(c)}),this._tags=[]):this._serverSheet.cssRules=[]},l.cssRules=function(){var c=this;return this._isBrowser?this._tags.reduce(function(h,d){return d?h=h.concat(Array.prototype.map.call(c.getSheetForTag(d).cssRules,function(p){return p.cssText===c._deletedRulePlaceholder?null:p})):h.push(null),h},[]):this._serverSheet.cssRules},l.makeStyleTag=function(c,h,d){h&&o(s(h),"makeStyleTag acceps only strings as second parameter");var p=document.createElement("style");this._nonce&&p.setAttribute("nonce",this._nonce),p.type="text/css",p.setAttribute("data-"+c,""),h&&p.appendChild(document.createTextNode(h));var m=document.head||document.getElementsByTagName("head")[0];return d?m.insertBefore(p,d):m.appendChild(p),p},t(a,[{key:"length",get:function(){return this._rulesCount}}]),a}();n.default=i;function o(a,l){if(!a)throw new Error("StyleSheet: "+l+".")}})($r);(function(n){n.__esModule=!0,n.default=void 0;var e=r(cc),t=r($r);function r(a){return a&&a.__esModule?a:{default:a}}var s=function(l){return l.replace(/\/style/gi,"\\/style")},i=function(){function a(u){var c=u===void 0?{}:u,h=c.styleSheet,d=h===void 0?null:h,p=c.optimizeForSpeed,m=p===void 0?!1:p,y=c.isBrowser,b=y===void 0?typeof window!="undefined":y;this._sheet=d||new t.default({name:"styled-jsx",optimizeForSpeed:m}),this._sheet.inject(),d&&typeof m=="boolean"&&(this._sheet.setOptimizeForSpeed(m),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=b,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var l=a.prototype;return l.add=function(c){var h=this;this._optimizeForSpeed===void 0&&(this._optimizeForSpeed=Array.isArray(c.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(b,C){return b[C]=0,b},{}));var d=this.getIdAndRules(c),p=d.styleId,m=d.rules;if(p in this._instancesCounts){this._instancesCounts[p]+=1;return}var y=m.map(function(b){return h._sheet.insertRule(b)}).filter(function(b){return b!==-1});this._indices[p]=y,this._instancesCounts[p]=1},l.remove=function(c){var h=this,d=this.getIdAndRules(c),p=d.styleId;if(o(p in this._instancesCounts,"styleId: `"+p+"` not found"),this._instancesCounts[p]-=1,this._instancesCounts[p]<1){var m=this._fromServer&&this._fromServer[p];m?(m.parentNode.removeChild(m),delete this._fromServer[p]):(this._indices[p].forEach(function(y){return h._sheet.deleteRule(y)}),delete this._indices[p]),delete this._instancesCounts[p]}},l.update=function(c,h){this.add(h),this.remove(c)},l.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()},l.cssRules=function(){var c=this,h=this._fromServer?Object.keys(this._fromServer).map(function(p){return[p,c._fromServer[p]]}):[],d=this._sheet.cssRules();return h.concat(Object.keys(this._indices).map(function(p){return[p,c._indices[p].map(function(m){return d[m].cssText}).join(c._optimizeForSpeed?"":`
`)]}).filter(function(p){return Boolean(p[1])}))},l.createComputeId=function(){var c={};return function(h,d){if(!d)return"jsx-"+h;var p=String(d),m=h+p;return c[m]||(c[m]="jsx-"+(0,e.default)(h+"-"+p)),c[m]}},l.createComputeSelector=function(c){c===void 0&&(c=/__jsx-style-dynamic-selector/g);var h={};return function(d,p){this._isBrowser||(p=s(p));var m=d+p;return h[m]||(h[m]=p.replace(c,d)),h[m]}},l.getIdAndRules=function(c){var h=this,d=c.children,p=c.dynamic,m=c.id;if(p){var y=this.computeId(m,p);return{styleId:y,rules:Array.isArray(d)?d.map(function(b){return h.computeSelector(y,b)}):[this.computeSelector(y,d)]}}return{styleId:this.computeId(m),rules:Array.isArray(d)?d:[d]}},l.selectFromServer=function(){var c=Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]'));return c.reduce(function(h,d){var p=d.id.slice(2);return h[p]=d,h},{})},a}();n.default=i;function o(a,l){if(!a)throw new Error("StyleSheetRegistry: "+l+".")}})(Or);var lc=yr(Or);new lc;ts(()=>O(co,{client:oc,get children(){return O(Bs,{get children(){return O(vo,{})}})}}),document.getElementById("app"));export{zo as $,Gn as A,wi as B,tr as C,_c as D,Tc as E,fi as F,no as G,ie as H,ni as I,Hr as J,tt as K,Ue as L,gc as M,Lt as N,Nn as O,V as P,bc as Q,vt as R,en as S,oe as T,Ei as U,rn as V,dc as W,zs as X,jr as Y,pc as Z,wc as _,D as a,ns as a0,Dn as b,cr as c,O as d,yc as e,Ec as f,q as g,To as h,Pr as i,mr as j,$c as k,vc as l,Jr as m,lo as n,ge as o,Sc as p,fc as q,Oc as r,$o as s,dr as t,Wn as u,mc as v,ai as w,ci as x,li as y,oi as z};
//# sourceMappingURL=index.0b0797f8.js.map
