var Du=Object.defineProperty,Fu=Object.defineProperties;var Eu=Object.getOwnPropertyDescriptors;var Ct=Object.getOwnPropertySymbols;var Lu=Object.prototype.hasOwnProperty,Tu=Object.prototype.propertyIsEnumerable;var Yt=(E,h,l)=>h in E?Du(E,h,{enumerable:!0,configurable:!0,writable:!0,value:l}):E[h]=l,ve=(E,h)=>{for(var l in h||(h={}))Lu.call(h,l)&&Yt(E,l,h[l]);if(Ct)for(var l of Ct(h))Tu.call(h,l)&&Yt(E,l,h[l]);return E},he=(E,h)=>Fu(E,Eu(h));import{$ as Au,g as yr,q as Pr,o as Vr,a0 as Bu,m as Pu,i as je,l as zu}from"./index.0b0797f8.js";var Xt={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(E,h){(function(l,v){E.exports=v()})(Au,function(){for(var l=function(r,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),r<e?e:r>a?a:r},v=l,x=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=v(r[e],0,255)):e===3&&(r[e]=v(r[e],0,1));return r},U={},D=0,q=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];D<q.length;D+=1){var nr=q[D];U["[object "+nr+"]"]=nr.toLowerCase()}var K=function(r){return U[Object.prototype.toString.call(r)]||"object"},hr=K,fr=function(r,e){return e===void 0&&(e=null),r.length>=3?Array.prototype.slice.call(r):hr(r[0])=="object"&&e?e.split("").filter(function(a){return r[0][a]!==void 0}).map(function(a){return r[0][a]}):r[0]},Q=K,zr=function(r){if(r.length<2)return null;var e=r.length-1;return Q(r[e])=="string"?r[e].toLowerCase():null},ir=Math.PI,b={clip_rgb:x,limit:l,type:K,unpack:fr,last:zr,PI:ir,TWOPI:ir*2,PITHIRD:ir/3,DEG2RAD:ir/180,RAD2DEG:180/ir},I={format:{},autodetect:[]},gr=b.last,P=b.clip_rgb,Or=b.type,dr=I,Ur=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var t=this;if(Or(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var o=gr(e),f=!1;if(!o){f=!0,dr.sorted||(dr.autodetect=dr.autodetect.sort(function(g,y){return y.p-g.p}),dr.sorted=!0);for(var n=0,u=dr.autodetect;n<u.length;n+=1){var i=u[n];if(o=i.test.apply(i,e),o)break}}if(dr.format[o]){var c=dr.format[o].apply(null,f?e:e.slice(0,-1));t._rgb=P(c)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)};Ur.prototype.toString=function(){return Or(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var C=Ur,Xr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Xr.Color,[null].concat(r)))};Xr.Color=C,Xr.version="2.4.2";var Z=Xr,Zr=b.unpack,Jr=Math.max,pr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Zr(r,"rgb"),t=a[0],o=a[1],f=a[2];t=t/255,o=o/255,f=f/255;var n=1-Jr(t,Jr(o,f)),u=n<1?1/(1-n):0,i=(1-t-n)*u,c=(1-o-n)*u,g=(1-f-n)*u;return[i,c,g,n]},de=pr,pe=b.unpack,be=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=pe(r,"cmyk");var a=r[0],t=r[1],o=r[2],f=r[3],n=r.length>4?r[4]:1;return f===1?[0,0,0,n]:[a>=1?0:255*(1-a)*(1-f),t>=1?0:255*(1-t)*(1-f),o>=1?0:255*(1-o)*(1-f),n]},me=be,ye=Z,Qr=C,jr=I,Kr=b.unpack,re=b.type,ee=de;Qr.prototype.cmyk=function(){return ee(this._rgb)},ye.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Qr,[null].concat(r,["cmyk"])))},jr.format.cmyk=me,jr.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Kr(r,"cmyk"),re(r)==="array"&&r.length===4)return"cmyk"}});var we=b.unpack,$e=b.last,Wr=function(r){return Math.round(r*100)/100},ke=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=we(r,"hsla"),t=$e(r)||"lsa";return a[0]=Wr(a[0]||0),a[1]=Wr(a[1]*100)+"%",a[2]=Wr(a[2]*100)+"%",t==="hsla"||a.length>3&&a[3]<1?(a[3]=a.length>3?a[3]:1,t="hsla"):a.length=3,t+"("+a.join(",")+")"},ae=ke,_e=b.unpack,xe=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=_e(r,"rgba");var a=r[0],t=r[1],o=r[2];a/=255,t/=255,o/=255;var f=Math.min(a,t,o),n=Math.max(a,t,o),u=(n+f)/2,i,c;return n===f?(i=0,c=Number.NaN):i=u<.5?(n-f)/(n+f):(n-f)/(2-n-f),a==n?c=(t-o)/(n-f):t==n?c=2+(o-a)/(n-f):o==n&&(c=4+(a-t)/(n-f)),c*=60,c<0&&(c+=360),r.length>3&&r[3]!==void 0?[c,i,u,r[3]]:[c,i,u]},qr=xe,s=b.unpack,m=b.last,k=ae,M=qr,L=Math.round,B=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=s(r,"rgba"),t=m(r)||"rgb";return t.substr(0,3)=="hsl"?k(M(a),t):(a[0]=L(a[0]),a[1]=L(a[1]),a[2]=L(a[2]),(t==="rgba"||a.length>3&&a[3]<1)&&(a[3]=a.length>3?a[3]:1,t="rgba"),t+"("+a.slice(0,t==="rgb"?3:4).join(",")+")")},Y=B,J=b.unpack,or=Math.round,wr=function(){for(var r,e=[],a=arguments.length;a--;)e[a]=arguments[a];e=J(e,"hsl");var t=e[0],o=e[1],f=e[2],n,u,i;if(o===0)n=u=i=f*255;else{var c=[0,0,0],g=[0,0,0],y=f<.5?f*(1+o):f+o-f*o,d=2*f-y,$=t/360;c[0]=$+1/3,c[1]=$,c[2]=$-1/3;for(var w=0;w<3;w++)c[w]<0&&(c[w]+=1),c[w]>1&&(c[w]-=1),6*c[w]<1?g[w]=d+(y-d)*6*c[w]:2*c[w]<1?g[w]=y:3*c[w]<2?g[w]=d+(y-d)*(2/3-c[w])*6:g[w]=d;r=[or(g[0]*255),or(g[1]*255),or(g[2]*255)],n=r[0],u=r[1],i=r[2]}return e.length>3?[n,u,i,e[3]]:[n,u,i,1]},Ke=wr,ra=Ke,ea=I,aa=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ta=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,na=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,oa=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,fa=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ua=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ia=Math.round,la=function(r){r=r.toLowerCase().trim();var e;if(ea.format.named)try{return ea.format.named(r)}catch{}if(e=r.match(aa)){for(var a=e.slice(1,4),t=0;t<3;t++)a[t]=+a[t];return a[3]=1,a}if(e=r.match(ta)){for(var o=e.slice(1,5),f=0;f<4;f++)o[f]=+o[f];return o}if(e=r.match(na)){for(var n=e.slice(1,4),u=0;u<3;u++)n[u]=ia(n[u]*2.55);return n[3]=1,n}if(e=r.match(oa)){for(var i=e.slice(1,5),c=0;c<3;c++)i[c]=ia(i[c]*2.55);return i[3]=+i[3],i}if(e=r.match(fa)){var g=e.slice(1,4);g[1]*=.01,g[2]*=.01;var y=ra(g);return y[3]=1,y}if(e=r.match(ua)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var $=ra(d);return $[3]=+e[4],$}};la.test=function(r){return aa.test(r)||ta.test(r)||na.test(r)||oa.test(r)||fa.test(r)||ua.test(r)};var Nt=la,Rt=Z,sa=C,ca=I,St=b.type,Dt=Y,va=Nt;sa.prototype.css=function(r){return Dt(this._rgb,r)},Rt.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(sa,[null].concat(r,["css"])))},ca.format.css=va,ca.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&St(r)==="string"&&va.test(r))return"css"}});var ha=C,Ft=Z,Et=I,Lt=b.unpack;Et.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Lt(r,"rgba");return a[0]*=255,a[1]*=255,a[2]*=255,a},Ft.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ha,[null].concat(r,["gl"])))},ha.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var Tt=b.unpack,At=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Tt(r,"rgb"),t=a[0],o=a[1],f=a[2],n=Math.min(t,o,f),u=Math.max(t,o,f),i=u-n,c=i*100/255,g=n/(255-i)*100,y;return i===0?y=Number.NaN:(t===u&&(y=(o-f)/i),o===u&&(y=2+(f-t)/i),f===u&&(y=4+(t-o)/i),y*=60,y<0&&(y+=360)),[y,c,g]},Bt=At,Pt=b.unpack,zt=Math.floor,Ot=function(){for(var r,e,a,t,o,f,n=[],u=arguments.length;u--;)n[u]=arguments[u];n=Pt(n,"hcg");var i=n[0],c=n[1],g=n[2],y,d,$;g=g*255;var w=c*255;if(c===0)y=d=$=g;else{i===360&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60;var X=zt(i),S=i-X,T=g*(1-c),z=T+w*(1-S),ar=T+w*S,er=T+w;switch(X){case 0:r=[er,ar,T],y=r[0],d=r[1],$=r[2];break;case 1:e=[z,er,T],y=e[0],d=e[1],$=e[2];break;case 2:a=[T,er,ar],y=a[0],d=a[1],$=a[2];break;case 3:t=[T,z,er],y=t[0],d=t[1],$=t[2];break;case 4:o=[ar,T,er],y=o[0],d=o[1],$=o[2];break;case 5:f=[er,T,z],y=f[0],d=f[1],$=f[2];break}}return[y,d,$,n.length>3?n[3]:1]},Wt=Ot,qt=b.unpack,Ht=b.type,It=Z,ga=C,da=I,Gt=Bt;ga.prototype.hcg=function(){return Gt(this._rgb)},It.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ga,[null].concat(r,["hcg"])))},da.format.hcg=Wt,da.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=qt(r,"hcg"),Ht(r)==="array"&&r.length===3)return"hcg"}});var Vt=b.unpack,Ut=b.last,te=Math.round,Zt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Vt(r,"rgba"),t=a[0],o=a[1],f=a[2],n=a[3],u=Ut(r)||"auto";n===void 0&&(n=1),u==="auto"&&(u=n<1?"rgba":"rgb"),t=te(t),o=te(o),f=te(f);var i=t<<16|o<<8|f,c="000000"+i.toString(16);c=c.substr(c.length-6);var g="0"+te(n*255).toString(16);switch(g=g.substr(g.length-2),u.toLowerCase()){case"rgba":return"#"+c+g;case"argb":return"#"+g+c;default:return"#"+c}},pa=Zt,Jt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Qt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,jt=function(r){if(r.match(Jt)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16),a=e>>16,t=e>>8&255,o=e&255;return[a,t,o,1]}if(r.match(Qt)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var f=parseInt(r,16),n=f>>24&255,u=f>>16&255,i=f>>8&255,c=Math.round((f&255)/255*100)/100;return[n,u,i,c]}throw new Error("unknown hex color: "+r)},ba=jt,Kt=Z,ma=C,rn=b.type,ya=I,en=pa;ma.prototype.hex=function(r){return en(this._rgb,r)},Kt.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ma,[null].concat(r,["hex"])))},ya.format.hex=ba,ya.autodetect.push({p:4,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&rn(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var an=b.unpack,wa=b.TWOPI,tn=Math.min,nn=Math.sqrt,on=Math.acos,fn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=an(r,"rgb"),t=a[0],o=a[1],f=a[2];t/=255,o/=255,f/=255;var n,u=tn(t,o,f),i=(t+o+f)/3,c=i>0?1-u/i:0;return c===0?n=NaN:(n=(t-o+(t-f))/2,n/=nn((t-o)*(t-o)+(t-f)*(o-f)),n=on(n),f>o&&(n=wa-n),n/=wa),[n*360,c,i]},un=fn,ln=b.unpack,Me=b.limit,Nr=b.TWOPI,Ce=b.PITHIRD,Rr=Math.cos,sn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ln(r,"hsi");var a=r[0],t=r[1],o=r[2],f,n,u;return isNaN(a)&&(a=0),isNaN(t)&&(t=0),a>360&&(a-=360),a<0&&(a+=360),a/=360,a<1/3?(u=(1-t)/3,f=(1+t*Rr(Nr*a)/Rr(Ce-Nr*a))/3,n=1-(u+f)):a<2/3?(a-=1/3,f=(1-t)/3,n=(1+t*Rr(Nr*a)/Rr(Ce-Nr*a))/3,u=1-(f+n)):(a-=2/3,n=(1-t)/3,u=(1+t*Rr(Nr*a)/Rr(Ce-Nr*a))/3,f=1-(n+u)),f=Me(o*f*3),n=Me(o*n*3),u=Me(o*u*3),[f*255,n*255,u*255,r.length>3?r[3]:1]},cn=sn,vn=b.unpack,hn=b.type,gn=Z,$a=C,ka=I,dn=un;$a.prototype.hsi=function(){return dn(this._rgb)},gn.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply($a,[null].concat(r,["hsi"])))},ka.format.hsi=cn,ka.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=vn(r,"hsi"),hn(r)==="array"&&r.length===3)return"hsi"}});var pn=b.unpack,bn=b.type,mn=Z,_a=C,xa=I,yn=qr;_a.prototype.hsl=function(){return yn(this._rgb)},mn.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(_a,[null].concat(r,["hsl"])))},xa.format.hsl=Ke,xa.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=pn(r,"hsl"),bn(r)==="array"&&r.length===3)return"hsl"}});var wn=b.unpack,$n=Math.min,kn=Math.max,_n=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=wn(r,"rgb");var a=r[0],t=r[1],o=r[2],f=$n(a,t,o),n=kn(a,t,o),u=n-f,i,c,g;return g=n/255,n===0?(i=Number.NaN,c=0):(c=u/n,a===n&&(i=(t-o)/u),t===n&&(i=2+(o-a)/u),o===n&&(i=4+(a-t)/u),i*=60,i<0&&(i+=360)),[i,c,g]},xn=_n,Mn=b.unpack,Cn=Math.floor,Yn=function(){for(var r,e,a,t,o,f,n=[],u=arguments.length;u--;)n[u]=arguments[u];n=Mn(n,"hsv");var i=n[0],c=n[1],g=n[2],y,d,$;if(g*=255,c===0)y=d=$=g;else{i===360&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60;var w=Cn(i),X=i-w,S=g*(1-c),T=g*(1-c*X),z=g*(1-c*(1-X));switch(w){case 0:r=[g,z,S],y=r[0],d=r[1],$=r[2];break;case 1:e=[T,g,S],y=e[0],d=e[1],$=e[2];break;case 2:a=[S,g,z],y=a[0],d=a[1],$=a[2];break;case 3:t=[S,T,g],y=t[0],d=t[1],$=t[2];break;case 4:o=[z,S,g],y=o[0],d=o[1],$=o[2];break;case 5:f=[g,S,T],y=f[0],d=f[1],$=f[2];break}}return[y,d,$,n.length>3?n[3]:1]},Xn=Yn,Nn=b.unpack,Rn=b.type,Sn=Z,Ma=C,Ca=I,Dn=xn;Ma.prototype.hsv=function(){return Dn(this._rgb)},Sn.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ma,[null].concat(r,["hsv"])))},Ca.format.hsv=Xn,Ca.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Nn(r,"hsv"),Rn(r)==="array"&&r.length===3)return"hsv"}});var ne={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Sr=ne,Fn=b.unpack,Ya=Math.pow,En=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Fn(r,"rgb"),t=a[0],o=a[1],f=a[2],n=Ln(t,o,f),u=n[0],i=n[1],c=n[2],g=116*i-16;return[g<0?0:g,500*(u-i),200*(i-c)]},Ye=function(r){return(r/=255)<=.04045?r/12.92:Ya((r+.055)/1.055,2.4)},Xe=function(r){return r>Sr.t3?Ya(r,1/3):r/Sr.t2+Sr.t0},Ln=function(r,e,a){r=Ye(r),e=Ye(e),a=Ye(a);var t=Xe((.4124564*r+.3575761*e+.1804375*a)/Sr.Xn),o=Xe((.2126729*r+.7151522*e+.072175*a)/Sr.Yn),f=Xe((.0193339*r+.119192*e+.9503041*a)/Sr.Zn);return[t,o,f]},Xa=En,Dr=ne,Tn=b.unpack,An=Math.pow,Bn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Tn(r,"lab");var a=r[0],t=r[1],o=r[2],f,n,u,i,c,g;return n=(a+16)/116,f=isNaN(t)?n:n+t/500,u=isNaN(o)?n:n-o/200,n=Dr.Yn*Re(n),f=Dr.Xn*Re(f),u=Dr.Zn*Re(u),i=Ne(3.2404542*f-1.5371385*n-.4985314*u),c=Ne(-.969266*f+1.8760108*n+.041556*u),g=Ne(.0556434*f-.2040259*n+1.0572252*u),[i,c,g,r.length>3?r[3]:1]},Ne=function(r){return 255*(r<=.00304?12.92*r:1.055*An(r,1/2.4)-.055)},Re=function(r){return r>Dr.t1?r*r*r:Dr.t2*(r-Dr.t0)},Na=Bn,Pn=b.unpack,zn=b.type,On=Z,Ra=C,Sa=I,Wn=Xa;Ra.prototype.lab=function(){return Wn(this._rgb)},On.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ra,[null].concat(r,["lab"])))},Sa.format.lab=Na,Sa.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Pn(r,"lab"),zn(r)==="array"&&r.length===3)return"lab"}});var qn=b.unpack,Hn=b.RAD2DEG,In=Math.sqrt,Gn=Math.atan2,Vn=Math.round,Un=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=qn(r,"lab"),t=a[0],o=a[1],f=a[2],n=In(o*o+f*f),u=(Gn(f,o)*Hn+360)%360;return Vn(n*1e4)===0&&(u=Number.NaN),[t,n,u]},Da=Un,Zn=b.unpack,Jn=Xa,Qn=Da,jn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Zn(r,"rgb"),t=a[0],o=a[1],f=a[2],n=Jn(t,o,f),u=n[0],i=n[1],c=n[2];return Qn(u,i,c)},Kn=jn,ro=b.unpack,eo=b.DEG2RAD,ao=Math.sin,to=Math.cos,no=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ro(r,"lch"),t=a[0],o=a[1],f=a[2];return isNaN(f)&&(f=0),f=f*eo,[t,to(f)*o,ao(f)*o]},Fa=no,oo=b.unpack,fo=Fa,uo=Na,io=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=oo(r,"lch");var a=r[0],t=r[1],o=r[2],f=fo(a,t,o),n=f[0],u=f[1],i=f[2],c=uo(n,u,i),g=c[0],y=c[1],d=c[2];return[g,y,d,r.length>3?r[3]:1]},Ea=io,lo=b.unpack,so=Ea,co=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=lo(r,"hcl").reverse();return so.apply(void 0,a)},vo=co,ho=b.unpack,go=b.type,La=Z,oe=C,Se=I,Ta=Kn;oe.prototype.lch=function(){return Ta(this._rgb)},oe.prototype.hcl=function(){return Ta(this._rgb).reverse()},La.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(oe,[null].concat(r,["lch"])))},La.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(oe,[null].concat(r,["hcl"])))},Se.format.lch=Ea,Se.format.hcl=vo,["lch","hcl"].forEach(function(r){return Se.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=ho(e,r),go(e)==="array"&&e.length===3)return r}})});var po={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Aa=po,bo=C,Ba=I,mo=b.type,Hr=Aa,yo=ba,wo=pa;bo.prototype.name=function(){for(var r=wo(this._rgb,"rgb"),e=0,a=Object.keys(Hr);e<a.length;e+=1){var t=a[e];if(Hr[t]===r)return t.toLowerCase()}return r},Ba.format.named=function(r){if(r=r.toLowerCase(),Hr[r])return yo(Hr[r]);throw new Error("unknown color name: "+r)},Ba.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&mo(r)==="string"&&Hr[r.toLowerCase()])return"named"}});var $o=b.unpack,ko=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=$o(r,"rgb"),t=a[0],o=a[1],f=a[2];return(t<<16)+(o<<8)+f},_o=ko,xo=b.type,Mo=function(r){if(xo(r)=="number"&&r>=0&&r<=16777215){var e=r>>16,a=r>>8&255,t=r&255;return[e,a,t,1]}throw new Error("unknown num color: "+r)},Co=Mo,Yo=Z,Pa=C,za=I,Xo=b.type,No=_o;Pa.prototype.num=function(){return No(this._rgb)},Yo.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Pa,[null].concat(r,["num"])))},za.format.num=Co,za.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r.length===1&&Xo(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var Ro=Z,De=C,Oa=I,Wa=b.unpack,qa=b.type,Ha=Math.round;De.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ha)},De.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(e,a){return a<3?r===!1?e:Ha(e):e})},Ro.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(De,[null].concat(r,["rgb"])))},Oa.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Wa(r,"rgba");return a[3]===void 0&&(a[3]=1),a},Oa.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Wa(r,"rgba"),qa(r)==="array"&&(r.length===3||r.length===4&&qa(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var fe=Math.log,So=function(r){var e=r/100,a,t,o;return e<66?(a=255,t=e<6?0:-155.25485562709179-.44596950469579133*(t=e-2)+104.49216199393888*fe(t),o=e<20?0:-254.76935184120902+.8274096064007395*(o=e-10)+115.67994401066147*fe(o)):(a=351.97690566805693+.114206453784165*(a=e-55)-40.25366309332127*fe(a),t=325.4494125711974+.07943456536662342*(t=e-50)-28.0852963507957*fe(t),o=255),[a,t,o,1]},Ia=So,Do=Ia,Fo=b.unpack,Eo=Math.round,Lo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var a=Fo(r,"rgb"),t=a[0],o=a[2],f=1e3,n=4e4,u=.4,i;n-f>u;){i=(n+f)*.5;var c=Do(i);c[2]/c[0]>=o/t?n=i:f=i}return Eo(i)},To=Lo,Fe=Z,ue=C,Ee=I,Ao=To;ue.prototype.temp=ue.prototype.kelvin=ue.prototype.temperature=function(){return Ao(this._rgb)},Fe.temp=Fe.kelvin=Fe.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ue,[null].concat(r,["temp"])))},Ee.format.temp=Ee.format.kelvin=Ee.format.temperature=Ia;var Bo=b.unpack,Le=Math.cbrt,Po=Math.pow,zo=Math.sign,Oo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Bo(r,"rgb"),t=a[0],o=a[1],f=a[2],n=[Te(t/255),Te(o/255),Te(f/255)],u=n[0],i=n[1],c=n[2],g=Le(.4122214708*u+.5363325363*i+.0514459929*c),y=Le(.2119034982*u+.6806995451*i+.1073969566*c),d=Le(.0883024619*u+.2817188376*i+.6299787005*c);return[.2104542553*g+.793617785*y-.0040720468*d,1.9779984951*g-2.428592205*y+.4505937099*d,.0259040371*g+.7827717662*y-.808675766*d]},Ga=Oo;function Te(r){var e=Math.abs(r);return e<.04045?r/12.92:(zo(r)||1)*Po((e+.055)/1.055,2.4)}var Wo=b.unpack,ie=Math.pow,qo=Math.sign,Ho=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Wo(r,"lab");var a=r[0],t=r[1],o=r[2],f=ie(a+.3963377774*t+.2158037573*o,3),n=ie(a-.1055613458*t-.0638541728*o,3),u=ie(a-.0894841775*t-1.291485548*o,3);return[255*Ae(4.0767416621*f-3.3077115913*n+.2309699292*u),255*Ae(-1.2684380046*f+2.6097574011*n-.3413193965*u),255*Ae(-.0041960863*f-.7034186147*n+1.707614701*u),r.length>3?r[3]:1]},Va=Ho;function Ae(r){var e=Math.abs(r);return e>.0031308?(qo(r)||1)*(1.055*ie(e,1/2.4)-.055):r*12.92}var Io=b.unpack,Go=b.type,Vo=Z,Ua=C,Za=I,Uo=Ga;Ua.prototype.oklab=function(){return Uo(this._rgb)},Vo.oklab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ua,[null].concat(r,["oklab"])))},Za.format.oklab=Va,Za.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Io(r,"oklab"),Go(r)==="array"&&r.length===3)return"oklab"}});var Zo=b.unpack,Jo=Ga,Qo=Da,jo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Zo(r,"rgb"),t=a[0],o=a[1],f=a[2],n=Jo(t,o,f),u=n[0],i=n[1],c=n[2];return Qo(u,i,c)},Ko=jo,rf=b.unpack,ef=Fa,af=Va,tf=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=rf(r,"lch");var a=r[0],t=r[1],o=r[2],f=ef(a,t,o),n=f[0],u=f[1],i=f[2],c=af(n,u,i),g=c[0],y=c[1],d=c[2];return[g,y,d,r.length>3?r[3]:1]},nf=tf,of=b.unpack,ff=b.type,uf=Z,Ja=C,Qa=I,lf=Ko;Ja.prototype.oklch=function(){return lf(this._rgb)},uf.oklch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ja,[null].concat(r,["oklch"])))},Qa.format.oklch=nf,Qa.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=of(r,"oklch"),ff(r)==="array"&&r.length===3)return"oklch"}});var ja=C,sf=b.type;ja.prototype.alpha=function(r,e){return e===void 0&&(e=!1),r!==void 0&&sf(r)==="number"?e?(this._rgb[3]=r,this):new ja([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var cf=C;cf.prototype.clipped=function(){return this._rgb._clipped||!1};var Mr=C,vf=ne;Mr.prototype.darken=function(r){r===void 0&&(r=1);var e=this,a=e.lab();return a[0]-=vf.Kn*r,new Mr(a,"lab").alpha(e.alpha(),!0)},Mr.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},Mr.prototype.darker=Mr.prototype.darken,Mr.prototype.brighter=Mr.prototype.brighten;var hf=C;hf.prototype.get=function(r){var e=r.split("."),a=e[0],t=e[1],o=this[a]();if(t){var f=a.indexOf(t)-(a.substr(0,2)==="ok"?2:0);if(f>-1)return o[f];throw new Error("unknown channel "+t+" in mode "+a)}else return o};var Fr=C,gf=b.type,df=Math.pow,pf=1e-7,bf=20;Fr.prototype.luminance=function(r){if(r!==void 0&&gf(r)==="number"){if(r===0)return new Fr([0,0,0,this._rgb[3]],"rgb");if(r===1)return new Fr([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),a="rgb",t=bf,o=function(n,u){var i=n.interpolate(u,.5,a),c=i.luminance();return Math.abs(r-c)<pf||!t--?i:c>r?o(n,i):o(i,u)},f=(e>r?o(new Fr([0,0,0]),this):o(this,new Fr([255,255,255]))).rgb();return new Fr(f.concat([this._rgb[3]]))}return mf.apply(void 0,this._rgb.slice(0,3))};var mf=function(r,e,a){return r=Be(r),e=Be(e),a=Be(a),.2126*r+.7152*e+.0722*a},Be=function(r){return r/=255,r<=.03928?r/12.92:df((r+.055)/1.055,2.4)},lr={},Ka=C,rt=b.type,le=lr,et=function(r,e,a){a===void 0&&(a=.5);for(var t=[],o=arguments.length-3;o-- >0;)t[o]=arguments[o+3];var f=t[0]||"lrgb";if(!le[f]&&!t.length&&(f=Object.keys(le)[0]),!le[f])throw new Error("interpolation mode "+f+" is not defined");return rt(r)!=="object"&&(r=new Ka(r)),rt(e)!=="object"&&(e=new Ka(e)),le[f](r,e,a).alpha(r.alpha()+a*(e.alpha()-r.alpha()))},at=C,yf=et;at.prototype.mix=at.prototype.interpolate=function(r,e){e===void 0&&(e=.5);for(var a=[],t=arguments.length-2;t-- >0;)a[t]=arguments[t+2];return yf.apply(void 0,[this,r,e].concat(a))};var tt=C;tt.prototype.premultiply=function(r){r===void 0&&(r=!1);var e=this._rgb,a=e[3];return r?(this._rgb=[e[0]*a,e[1]*a,e[2]*a,a],this):new tt([e[0]*a,e[1]*a,e[2]*a,a],"rgb")};var Pe=C,wf=ne;Pe.prototype.saturate=function(r){r===void 0&&(r=1);var e=this,a=e.lch();return a[1]+=wf.Kn*r,a[1]<0&&(a[1]=0),new Pe(a,"lch").alpha(e.alpha(),!0)},Pe.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var nt=C,ot=b.type;nt.prototype.set=function(r,e,a){a===void 0&&(a=!1);var t=r.split("."),o=t[0],f=t[1],n=this[o]();if(f){var u=o.indexOf(f)-(o.substr(0,2)==="ok"?2:0);if(u>-1){if(ot(e)=="string")switch(e.charAt(0)){case"+":n[u]+=+e;break;case"-":n[u]+=+e;break;case"*":n[u]*=+e.substr(1);break;case"/":n[u]/=+e.substr(1);break;default:n[u]=+e}else if(ot(e)==="number")n[u]=e;else throw new Error("unsupported value for Color.set");var i=new nt(n,o);return a?(this._rgb=i._rgb,this):i}throw new Error("unknown channel "+f+" in mode "+o)}else return n};var $f=C,kf=function(r,e,a){var t=r._rgb,o=e._rgb;return new $f(t[0]+a*(o[0]-t[0]),t[1]+a*(o[1]-t[1]),t[2]+a*(o[2]-t[2]),"rgb")};lr.rgb=kf;var _f=C,ze=Math.sqrt,Er=Math.pow,xf=function(r,e,a){var t=r._rgb,o=t[0],f=t[1],n=t[2],u=e._rgb,i=u[0],c=u[1],g=u[2];return new _f(ze(Er(o,2)*(1-a)+Er(i,2)*a),ze(Er(f,2)*(1-a)+Er(c,2)*a),ze(Er(n,2)*(1-a)+Er(g,2)*a),"rgb")};lr.lrgb=xf;var Mf=C,Cf=function(r,e,a){var t=r.lab(),o=e.lab();return new Mf(t[0]+a*(o[0]-t[0]),t[1]+a*(o[1]-t[1]),t[2]+a*(o[2]-t[2]),"lab")};lr.lab=Cf;var ft=C,Lr=function(r,e,a,t){var o,f,n,u;t==="hsl"?(n=r.hsl(),u=e.hsl()):t==="hsv"?(n=r.hsv(),u=e.hsv()):t==="hcg"?(n=r.hcg(),u=e.hcg()):t==="hsi"?(n=r.hsi(),u=e.hsi()):t==="lch"||t==="hcl"?(t="hcl",n=r.hcl(),u=e.hcl()):t==="oklch"&&(n=r.oklch().reverse(),u=e.oklch().reverse());var i,c,g,y,d,$;(t.substr(0,1)==="h"||t==="oklch")&&(o=n,i=o[0],g=o[1],d=o[2],f=u,c=f[0],y=f[1],$=f[2]);var w,X,S,T;return!isNaN(i)&&!isNaN(c)?(c>i&&c-i>180?T=c-(i+360):c<i&&i-c>180?T=c+360-i:T=c-i,X=i+a*T):isNaN(i)?isNaN(c)?X=Number.NaN:(X=c,(d==1||d==0)&&t!="hsv"&&(w=y)):(X=i,($==1||$==0)&&t!="hsv"&&(w=g)),w===void 0&&(w=g+a*(y-g)),S=d+a*($-d),t==="oklch"?new ft([S,w,X],t):new ft([X,w,S],t)},Yf=Lr,ut=function(r,e,a){return Yf(r,e,a,"lch")};lr.lch=ut,lr.hcl=ut;var Xf=C,Nf=function(r,e,a){var t=r.num(),o=e.num();return new Xf(t+a*(o-t),"num")};lr.num=Nf;var Rf=Lr,Sf=function(r,e,a){return Rf(r,e,a,"hcg")};lr.hcg=Sf;var Df=Lr,Ff=function(r,e,a){return Df(r,e,a,"hsi")};lr.hsi=Ff;var Ef=Lr,Lf=function(r,e,a){return Ef(r,e,a,"hsl")};lr.hsl=Lf;var Tf=Lr,Af=function(r,e,a){return Tf(r,e,a,"hsv")};lr.hsv=Af;var Bf=C,Pf=function(r,e,a){var t=r.oklab(),o=e.oklab();return new Bf(t[0]+a*(o[0]-t[0]),t[1]+a*(o[1]-t[1]),t[2]+a*(o[2]-t[2]),"oklab")};lr.oklab=Pf;var zf=Lr,Of=function(r,e,a){return zf(r,e,a,"oklch")};lr.oklch=Of;var Oe=C,Wf=b.clip_rgb,We=Math.pow,qe=Math.sqrt,He=Math.PI,it=Math.cos,lt=Math.sin,qf=Math.atan2,Hf=function(r,e,a){e===void 0&&(e="lrgb"),a===void 0&&(a=null);var t=r.length;a||(a=Array.from(new Array(t)).map(function(){return 1}));var o=t/a.reduce(function(X,S){return X+S});if(a.forEach(function(X,S){a[S]*=o}),r=r.map(function(X){return new Oe(X)}),e==="lrgb")return If(r,a);for(var f=r.shift(),n=f.get(e),u=[],i=0,c=0,g=0;g<n.length;g++)if(n[g]=(n[g]||0)*a[0],u.push(isNaN(n[g])?0:a[0]),e.charAt(g)==="h"&&!isNaN(n[g])){var y=n[g]/180*He;i+=it(y)*a[0],c+=lt(y)*a[0]}var d=f.alpha()*a[0];r.forEach(function(X,S){var T=X.get(e);d+=X.alpha()*a[S+1];for(var z=0;z<n.length;z++)if(!isNaN(T[z]))if(u[z]+=a[S+1],e.charAt(z)==="h"){var ar=T[z]/180*He;i+=it(ar)*a[S+1],c+=lt(ar)*a[S+1]}else n[z]+=T[z]*a[S+1]});for(var $=0;$<n.length;$++)if(e.charAt($)==="h"){for(var w=qf(c/u[$],i/u[$])/He*180;w<0;)w+=360;for(;w>=360;)w-=360;n[$]=w}else n[$]=n[$]/u[$];return d/=t,new Oe(n,e).alpha(d>.99999?1:d,!0)},If=function(r,e){for(var a=r.length,t=[0,0,0,0],o=0;o<r.length;o++){var f=r[o],n=e[o]/a,u=f._rgb;t[0]+=We(u[0],2)*n,t[1]+=We(u[1],2)*n,t[2]+=We(u[2],2)*n,t[3]+=u[3]*n}return t[0]=qe(t[0]),t[1]=qe(t[1]),t[2]=qe(t[2]),t[3]>.9999999&&(t[3]=1),new Oe(Wf(t))},sr=Z,Tr=b.type,Gf=Math.pow,Ie=function(r){var e="rgb",a=sr("#ccc"),t=0,o=[0,1],f=[],n=[0,0],u=!1,i=[],c=!1,g=0,y=1,d=!1,$={},w=!0,X=1,S=function(p){if(p=p||["#fff","#000"],p&&Tr(p)==="string"&&sr.brewer&&sr.brewer[p.toLowerCase()]&&(p=sr.brewer[p.toLowerCase()]),Tr(p)==="array"){p.length===1&&(p=[p[0],p[0]]),p=p.slice(0);for(var _=0;_<p.length;_++)p[_]=sr(p[_]);f.length=0;for(var R=0;R<p.length;R++)f.push(R/(p.length-1))}return ur(),i=p},T=function(p){if(u!=null){for(var _=u.length-1,R=0;R<_&&p>=u[R];)R++;return R-1}return 0},z=function(p){return p},ar=function(p){return p},er=function(p,_){var R,N;if(_==null&&(_=!1),isNaN(p)||p===null)return a;if(_)N=p;else if(u&&u.length>2){var tr=T(p);N=tr/(u.length-2)}else y!==g?N=(p-g)/(y-g):N=1;N=ar(N),_||(N=z(N)),X!==1&&(N=Gf(N,X)),N=n[0]+N*(1-n[0]-n[1]),N=Math.min(1,Math.max(0,N));var G=Math.floor(N*1e4);if(w&&$[G])R=$[G];else{if(Tr(i)==="array")for(var A=0;A<f.length;A++){var O=f[A];if(N<=O){R=i[A];break}if(N>=O&&A===f.length-1){R=i[A];break}if(N>O&&N<f[A+1]){N=(N-O)/(f[A+1]-O),R=sr.interpolate(i[A],i[A+1],N,e);break}}else Tr(i)==="function"&&(R=i(N));w&&($[G]=R)}return R},ur=function(){return $={}};S(r);var F=function(p){var _=sr(er(p));return c&&_[c]?_[c]():_};return F.classes=function(p){if(p!=null){if(Tr(p)==="array")u=p,o=[p[0],p[p.length-1]];else{var _=sr.analyze(o);p===0?u=[_.min,_.max]:u=sr.limits(_,"e",p)}return F}return u},F.domain=function(p){if(!arguments.length)return o;g=p[0],y=p[p.length-1],f=[];var _=i.length;if(p.length===_&&g!==y)for(var R=0,N=Array.from(p);R<N.length;R+=1){var tr=N[R];f.push((tr-g)/(y-g))}else{for(var G=0;G<_;G++)f.push(G/(_-1));if(p.length>2){var A=p.map(function(W,H){return H/(p.length-1)}),O=p.map(function(W){return(W-g)/(y-g)});O.every(function(W,H){return A[H]===W})||(ar=function(W){if(W<=0||W>=1)return W;for(var H=0;W>=O[H+1];)H++;var vr=(W-O[H])/(O[H+1]-O[H]),_r=A[H]+vr*(A[H+1]-A[H]);return _r})}}return o=[g,y],F},F.mode=function(p){return arguments.length?(e=p,ur(),F):e},F.range=function(p,_){return S(p),F},F.out=function(p){return c=p,F},F.spread=function(p){return arguments.length?(t=p,F):t},F.correctLightness=function(p){return p==null&&(p=!0),d=p,ur(),d?z=function(_){for(var R=er(0,!0).lab()[0],N=er(1,!0).lab()[0],tr=R>N,G=er(_,!0).lab()[0],A=R+(N-R)*_,O=G-A,W=0,H=1,vr=20;Math.abs(O)>.01&&vr-- >0;)(function(){return tr&&(O*=-1),O<0?(W=_,_+=(H-_)*.5):(H=_,_+=(W-_)*.5),G=er(_,!0).lab()[0],O=G-A})();return _}:z=function(_){return _},F},F.padding=function(p){return p!=null?(Tr(p)==="number"&&(p=[p,p]),n=p,F):n},F.colors=function(p,_){arguments.length<2&&(_="hex");var R=[];if(arguments.length===0)R=i.slice(0);else if(p===1)R=[F(.5)];else if(p>1){var N=o[0],tr=o[1]-N;R=Vf(0,p,!1).map(function(H){return F(N+H/(p-1)*tr)})}else{r=[];var G=[];if(u&&u.length>2)for(var A=1,O=u.length,W=1<=O;W?A<O:A>O;W?A++:A--)G.push((u[A-1]+u[A])*.5);else G=o;R=G.map(function(H){return F(H)})}return sr[_]&&(R=R.map(function(H){return H[_]()})),R},F.cache=function(p){return p!=null?(w=p,F):w},F.gamma=function(p){return p!=null?(X=p,F):X},F.nodata=function(p){return p!=null?(a=sr(p),F):a},F};function Vf(r,e,a){for(var t=[],o=r<e,f=a?o?e+1:e-1:e,n=r;o?n<f:n>f;o?n++:n--)t.push(n);return t}var Ir=C,Uf=Ie,Zf=function(r){for(var e=[1,1],a=1;a<r;a++){for(var t=[1],o=1;o<=e.length;o++)t[o]=(e[o]||0)+e[o-1];e=t}return e},Jf=function(r){var e,a,t,o,f,n,u;if(r=r.map(function(d){return new Ir(d)}),r.length===2)e=r.map(function(d){return d.lab()}),f=e[0],n=e[1],o=function(d){var $=[0,1,2].map(function(w){return f[w]+d*(n[w]-f[w])});return new Ir($,"lab")};else if(r.length===3)a=r.map(function(d){return d.lab()}),f=a[0],n=a[1],u=a[2],o=function(d){var $=[0,1,2].map(function(w){return(1-d)*(1-d)*f[w]+2*(1-d)*d*n[w]+d*d*u[w]});return new Ir($,"lab")};else if(r.length===4){var i;t=r.map(function(d){return d.lab()}),f=t[0],n=t[1],u=t[2],i=t[3],o=function(d){var $=[0,1,2].map(function(w){return(1-d)*(1-d)*(1-d)*f[w]+3*(1-d)*(1-d)*d*n[w]+3*(1-d)*d*d*u[w]+d*d*d*i[w]});return new Ir($,"lab")}}else if(r.length>=5){var c,g,y;c=r.map(function(d){return d.lab()}),y=r.length-1,g=Zf(y),o=function(d){var $=1-d,w=[0,1,2].map(function(X){return c.reduce(function(S,T,z){return S+g[z]*Math.pow($,y-z)*Math.pow(d,z)*T[X]},0)});return new Ir(w,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return o},Qf=function(r){var e=Jf(r);return e.scale=function(){return Uf(e)},e},Ge=Z,cr=function(r,e,a){if(!cr[a])throw new Error("unknown blend mode "+a);return cr[a](r,e)},$r=function(r){return function(e,a){var t=Ge(a).rgb(),o=Ge(e).rgb();return Ge.rgb(r(t,o))}},kr=function(r){return function(e,a){var t=[];return t[0]=r(e[0],a[0]),t[1]=r(e[1],a[1]),t[2]=r(e[2],a[2]),t}},jf=function(r){return r},Kf=function(r,e){return r*e/255},ru=function(r,e){return r>e?e:r},eu=function(r,e){return r>e?r:e},au=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},tu=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},nu=function(r,e){return 255*(1-(1-e/255)/(r/255))},ou=function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)};cr.normal=$r(kr(jf)),cr.multiply=$r(kr(Kf)),cr.screen=$r(kr(au)),cr.overlay=$r(kr(tu)),cr.darken=$r(kr(ru)),cr.lighten=$r(kr(eu)),cr.dodge=$r(kr(ou)),cr.burn=$r(kr(nu));for(var fu=cr,Ve=b.type,uu=b.clip_rgb,iu=b.TWOPI,lu=Math.pow,su=Math.sin,cu=Math.cos,st=Z,vu=function(r,e,a,t,o){r===void 0&&(r=300),e===void 0&&(e=-1.5),a===void 0&&(a=1),t===void 0&&(t=1),o===void 0&&(o=[0,1]);var f=0,n;Ve(o)==="array"?n=o[1]-o[0]:(n=0,o=[o,o]);var u=function(i){var c=iu*((r+120)/360+e*i),g=lu(o[0]+n*i,t),y=f!==0?a[0]+i*f:a,d=y*g*(1-g)/2,$=cu(c),w=su(c),X=g+d*(-.14861*$+1.78277*w),S=g+d*(-.29227*$-.90649*w),T=g+d*(1.97294*$);return st(uu([X*255,S*255,T*255,1]))};return u.start=function(i){return i==null?r:(r=i,u)},u.rotations=function(i){return i==null?e:(e=i,u)},u.gamma=function(i){return i==null?t:(t=i,u)},u.hue=function(i){return i==null?a:(a=i,Ve(a)==="array"?(f=a[1]-a[0],f===0&&(a=a[1])):f=0,u)},u.lightness=function(i){return i==null?o:(Ve(i)==="array"?(o=i,n=i[1]-i[0]):(o=[i,i],n=0),u)},u.scale=function(){return st.scale(u)},u.hue(a),u},hu=C,gu="0123456789abcdef",du=Math.floor,pu=Math.random,bu=function(){for(var r="#",e=0;e<6;e++)r+=gu.charAt(du(pu()*16));return new hu(r,"hex")},Ue=K,ct=Math.log,mu=Math.pow,yu=Math.floor,wu=Math.abs,vt=function(r,e){e===void 0&&(e=null);var a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Ue(r)==="object"&&(r=Object.values(r)),r.forEach(function(t){e&&Ue(t)==="object"&&(t=t[e]),t!=null&&!isNaN(t)&&(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)}),a.domain=[a.min,a.max],a.limits=function(t,o){return ht(a,t,o)},a},ht=function(r,e,a){e===void 0&&(e="equal"),a===void 0&&(a=7),Ue(r)=="array"&&(r=vt(r));var t=r.min,o=r.max,f=r.values.sort(function(Je,Qe){return Je-Qe});if(a===1)return[t,o];var n=[];if(e.substr(0,1)==="c"&&(n.push(t),n.push(o)),e.substr(0,1)==="e"){n.push(t);for(var u=1;u<a;u++)n.push(t+u/a*(o-t));n.push(o)}else if(e.substr(0,1)==="l"){if(t<=0)throw new Error("Logarithmic scales are only possible for values > 0");var i=Math.LOG10E*ct(t),c=Math.LOG10E*ct(o);n.push(t);for(var g=1;g<a;g++)n.push(mu(10,i+g/a*(c-i)));n.push(o)}else if(e.substr(0,1)==="q"){n.push(t);for(var y=1;y<a;y++){var d=(f.length-1)*y/a,$=yu(d);if($===d)n.push(f[$]);else{var w=d-$;n.push(f[$]*(1-w)+f[$+1]*w)}}n.push(o)}else if(e.substr(0,1)==="k"){var X,S=f.length,T=new Array(S),z=new Array(a),ar=!0,er=0,ur=null;ur=[],ur.push(t);for(var F=1;F<a;F++)ur.push(t+F/a*(o-t));for(ur.push(o);ar;){for(var p=0;p<a;p++)z[p]=0;for(var _=0;_<S;_++)for(var R=f[_],N=Number.MAX_VALUE,tr=void 0,G=0;G<a;G++){var A=wu(ur[G]-R);A<N&&(N=A,tr=G),z[tr]++,T[_]=tr}for(var O=new Array(a),W=0;W<a;W++)O[W]=null;for(var H=0;H<S;H++)X=T[H],O[X]===null?O[X]=f[H]:O[X]+=f[H];for(var vr=0;vr<a;vr++)O[vr]*=1/z[vr];ar=!1;for(var _r=0;_r<a;_r++)if(O[_r]!==ur[_r]){ar=!0;break}ur=O,er++,er>200&&(ar=!1)}for(var xr={},Ar=0;Ar<a;Ar++)xr[Ar]=[];for(var Br=0;Br<S;Br++)X=T[Br],xr[X].push(f[Br]);for(var mr=[],Cr=0;Cr<a;Cr++)mr.push(xr[Cr][0]),mr.push(xr[Cr][xr[Cr].length-1]);mr=mr.sort(function(Je,Qe){return Je-Qe}),n.push(mr[0]);for(var Gr=1;Gr<mr.length;Gr+=2){var Yr=mr[Gr];!isNaN(Yr)&&n.indexOf(Yr)===-1&&n.push(Yr)}}return n},gt={analyze:vt,limits:ht},dt=C,$u=function(r,e){r=new dt(r),e=new dt(e);var a=r.luminance(),t=e.luminance();return a>t?(a+.05)/(t+.05):(t+.05)/(a+.05)},pt=C,br=Math.sqrt,j=Math.pow,ku=Math.min,_u=Math.max,bt=Math.atan2,mt=Math.abs,se=Math.cos,yt=Math.sin,xu=Math.exp,wt=Math.PI,Mu=function(r,e,a,t,o){a===void 0&&(a=1),t===void 0&&(t=1),o===void 0&&(o=1);var f=function(Yr){return 360*Yr/(2*wt)},n=function(Yr){return 2*wt*Yr/360};r=new pt(r),e=new pt(e);var u=Array.from(r.lab()),i=u[0],c=u[1],g=u[2],y=Array.from(e.lab()),d=y[0],$=y[1],w=y[2],X=(i+d)/2,S=br(j(c,2)+j(g,2)),T=br(j($,2)+j(w,2)),z=(S+T)/2,ar=.5*(1-br(j(z,7)/(j(z,7)+j(25,7)))),er=c*(1+ar),ur=$*(1+ar),F=br(j(er,2)+j(g,2)),p=br(j(ur,2)+j(w,2)),_=(F+p)/2,R=f(bt(g,er)),N=f(bt(w,ur)),tr=R>=0?R:R+360,G=N>=0?N:N+360,A=mt(tr-G)>180?(tr+G+360)/2:(tr+G)/2,O=1-.17*se(n(A-30))+.24*se(n(2*A))+.32*se(n(3*A+6))-.2*se(n(4*A-63)),W=G-tr;W=mt(W)<=180?W:G<=tr?W+360:W-360,W=2*br(F*p)*yt(n(W)/2);var H=d-i,vr=p-F,_r=1+.015*j(X-50,2)/br(20+j(X-50,2)),xr=1+.045*_,Ar=1+.015*_*O,Br=30*xu(-j((A-275)/25,2)),mr=2*br(j(_,7)/(j(_,7)+j(25,7))),Cr=-mr*yt(2*n(Br)),Gr=br(j(H/(a*_r),2)+j(vr/(t*xr),2)+j(W/(o*Ar),2)+Cr*(vr/(t*xr))*(W/(o*Ar)));return _u(0,ku(100,Gr))},$t=C,Cu=function(r,e,a){a===void 0&&(a="lab"),r=new $t(r),e=new $t(e);var t=r.get(a),o=e.get(a),f=0;for(var n in t){var u=(t[n]||0)-(o[n]||0);f+=u*u}return Math.sqrt(f)},Yu=C,Xu=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(Yu,[null].concat(r))),!0}catch{return!1}},kt=Z,_t=Ie,Nu={cool:function(){return _t([kt.hsl(180,1,.9),kt.hsl(250,.7,.4)])},hot:function(){return _t(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ce={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ze=0,xt=Object.keys(ce);Ze<xt.length;Ze+=1){var Mt=xt[Ze];ce[Mt.toLowerCase()]=ce[Mt]}var Ru=ce,rr=Z;rr.average=Hf,rr.bezier=Qf,rr.blend=fu,rr.cubehelix=vu,rr.mix=rr.interpolate=et,rr.random=bu,rr.scale=Ie,rr.analyze=gt.analyze,rr.contrast=$u,rr.deltaE=Mu,rr.distance=Cu,rr.limits=gt.limits,rr.valid=Xu,rr.scales=Nu,rr.colors=Aa,rr.brewer=Ru;var Su=rr;return Su})})(Xt);var Ou=Xt.exports;const Wu=()=>{const[E,h]=yr({width:window.innerHeight*window.devicePixelRatio,height:window.innerWidth*window.devicePixelRatio}),l=()=>{const v=window.innerHeight*window.devicePixelRatio,x=window.innerWidth*window.devicePixelRatio;h({width:x,height:v})};return Pr(()=>{l(),window.addEventListener("resize",l)}),Vr(()=>{window.removeEventListener("resize",l)}),[E,h]},qu=()=>{const[E,h]=yr(window.devicePixelRatio);let l;const v=()=>{h(window.devicePixelRatio),l&&(l.removeEventListener("change",v),l=void 0),l=window.matchMedia(`(resolution: ${E}dppx)`),l.addEventListener("change",v,{once:!0})};return Pr(()=>{v()}),Vr(()=>{l&&(l.removeEventListener("change",v),l=void 0)}),E};class Hu{constructor(){const[h,l]=yr([1,0,1]),[v,x]=yr([1,0,1]);[this.x,this.setX]=[h,l],[this.y,this.setY]=[v,x]}setAxisX(h,l,v){this.setX([h,l,v])}setAxisY(h,l,v){this.setY([h,l,v])}getDrawPositionX(h){const[l,v,x]=this.x();return v>x||v>l||x>l?[0,0]:[Math.round(h*(v/l)),Math.round(h*(x/l))]}getDrawPositionY(h){const[l,v,x]=this.y();return v>x||v>l||x>l?[0,0]:[Math.round(h*(v/l)),Math.round(h*(x/l))]}getXOfTotal(){const[h,l,v]=this.x();return(v-l)/h}getYOfTotal(){const[h,l,v]=this.y();return(v-l)/h}getProgressX(){const[h,,l]=this.x();return l/h}getProgressY(){const[h,,l]=this.y();return l/h}getRangeX(){const[,h,l]=this.x();return[h,l]}getRangeY(){const[,h,l]=this.y();return[h,l]}isHitScrollX(h,l){if(this.prevX){const[v,x,U,D]=this.prevX;return h>=v&&h<=v+U&&l>=x&&l<=x+D}else return!1}isHitScrollY(h,l){if(this.prevY){const[v,x,U,D]=this.prevY;return h>=v&&h<=v+U&&l>=x&&l<=x+D}else return!1}isHitScroll(h,l){return this.isHitScrollX(h,l)||this.isHitScrollY(h,l)}canScrollX(h){const[l,v,x]=this.x();return v+h<0?!1:!(x+h>l)}canScrollY(h){const[l,v,x]=this.y();return v+h<0?!1:!(x+h>l)}}function Iu(E){const[h,l]=yr(!1);let v=0;const x=q=>{v=requestAnimationFrame(x),E(q)},U=()=>{h()||(l(!0),v=requestAnimationFrame(x))},D=()=>{l(!1),cancelAnimationFrame(v)};return Vr(D),[h,U,D]}const Gu=zu('<canvas class="draw-broad-canvas"></canvas>');let ge;(function(E){E[E.direct=0]="direct",E[E.stylus=1]="stylus"})(ge||(ge={}));let V;(function(E){E[E.hand=0]="hand",E[E.pen=1]="pen",E[E.erase=2]="erase"})(V||(V={}));class Vu{constructor(h,l){const[v,x]=yr(h);[this.color,this.setColor]=[v,x];const[U,D]=yr(l);[this.lineWidthFactor,this.setLineWidthFactor]=[U,D];const[q,nr]=yr(V.pen);[this.tool,this.setTool]=[q,nr],this.offscreen=document.createElement("canvas");const K=this.offscreen.getContext("2d");if(!K)throw new Error("unable get 2d context");this.ctx2d=K,this.scrollCtl=new Hu,this.isBufferDirty=!0,this.viewpointBufferRefreshNeeded=!1}setOffscreenSize([h,l]){this.offscreen.width=h,this.offscreen.height=l}resetCanvas(){this.ctx2d.clearRect(0,0,this.offscreen.width,this.offscreen.height),this.viewpointBufferRefreshNeeded=!0,this.isBufferDirty=!0}translateColor(h){return typeof h=="string"?h==="erase"?"white":h:h.hex()}draw(h){const l=this.ctx2d;if(l.lineCap="round",l.lineJoin="round",h.length<=0)return;const v=h.length-1;if(h.length>=3){const x=(h[v-1].x+h[v-2].x)/2,U=(h[v-1].y+h[v-2].y)/2;l.beginPath(),l.moveTo(x,U);const D=(h[v].x+h[v-1].x)/2,q=(h[v].y+h[v-1].y)/2;l.lineWidth=h[v-1].lineWidth,l.quadraticCurveTo(h[v-1].x,h[v-1].y,D,q),l.strokeStyle=this.translateColor(h[v].color),l.stroke()}else{const x=h[v];l.lineWidth=x.lineWidth,l.strokeStyle=this.translateColor(x.color),l.beginPath(),l.moveTo(x.x,x.y),l.stroke()}this.isBufferDirty=!0}}const Ju=E=>{const h=Pu({width:1280,height:720},E),l=h.ctl||new Vu("red",40),v=l.scrollCtl;let x,U,D,q,nr=!1,K=!1,hr=!1,fr=0,Q=[];const[zr]=Wu(),[ir,b]=yr(),I=()=>v.getRangeX()[0],gr=()=>v.getRangeY()[0],P=qu(),Or=s=>Ou("black").alpha(s?1:.5).hex(),dr=(s,m)=>{const k=Math.round(s?20:12),M=k+(s||m?0:2);return[k,M]},Ur=()=>{if(!!U)if(v.getXOfTotal()<1){const{width:s,height:m}=zr(),[k,M]=v.getDrawPositionX(s);U.fillStyle=Or(D);const[L,B]=dr(nr,D),Y=[k,m-B,M-k,L];v.prevX&&v.prevX!==Y&&U.clearRect(...v.prevX),U.fillRect(...Y),v.prevX=Y}else v.prevX=void 0},C=()=>{if(!!U)if(v.getYOfTotal()<1){const{width:s,height:m}=zr(),[k,M]=v.getDrawPositionY(m);U.fillStyle=Or(q);const[L,B]=dr(K,q),Y=[s-B,k,L,M-k];v.prevY&&v.prevY!==Y&&U.clearRect(...v.prevY),U.fillRect(...Y),v.prevY=Y}else v.prevY=void 0},Xr=()=>{if(!U)return;const s=U,m=l.offscreen;l.viewpointBufferRefreshNeeded&&(s.clearRect(0,0,x.width,x.height),l.viewpointBufferRefreshNeeded=!1),s.drawImage(m,I(),gr(),x.width,x.height,0,0,x.width,x.height),Ur(),C(),l.isBufferDirty=!1},[,Z]=Iu(()=>l.isBufferDirty?Xr():void 0),Zr=()=>{const{width:s,height:m}=zr();x.width=s,x.height=m,v.setX([l.offscreen.width,0,s]),v.setY([l.offscreen.height,0,m]),l.viewpointBufferRefreshNeeded=!0,l.isBufferDirty=!0},Jr=()=>{nr=!1,K=!1,D=void 0,q=void 0,hr=!1,Q=[],fr=0,pr(Q)},pr=function(s){l.draw(s)},de=s=>{if(s.touches.length===1){s.preventDefault();const m=s.touches[0],k=m.pageX*P(),M=m.pageY*P();if(v.isHitScrollX(k,M))nr=!0,D=k;else if(v.isHitScrollY(k,M))K=!0,q=M;else{const L=m.force>0?m.force:.1,B=k+I(),Y=M+gr();if(hr=!0,Q.push({x:B,y:Y,lineWidth:fr,color:l.tool()===V.erase?"erase":l.color()}),pr(Q),h.onStart){const J={x:B,y:Y,pressure:L,hasForce:!0};ir()&&(J.touch=he(ve({},m),{type:ir()})),h.onStart(Q,J)}}}},pe=s=>{if(s.button!==0)return;s.preventDefault();const m=s.pageX*P(),k=s.pageY*P();if(v.isHitScrollX(m,k))nr=!0,D=m;else if(v.isHitScrollY(m,k))K=!0,q=k;else{const L=m+I(),B=k+gr();if(hr=!0,fr=Math.log(1+1)*l.lineWidthFactor(),Q.push({x:L,y:B,lineWidth:fr,color:l.tool()===V.erase?"erase":l.color()}),pr(Q),h.onStart){const Y={x:L,y:B,pressure:1,hasForce:!1};h.onStart(Q,Y)}}},be=s=>{if(s.touches.length===1){s.preventDefault();const m=s.touches[0],k=m.pageX*P(),M=m.pageY*P(),L=nr,B=K;if(nr=typeof D=="number"||v.isHitScrollX(k,M),K=typeof q=="number"||v.isHitScrollY(k,M),(L!==nr||B!==K)&&(l.isBufferDirty=!0),D){s.preventDefault();const Y=Math.round((k-(D||0))*v.getXOfTotal()*P());v.canScrollX(Y)&&(v.setX(([J,or,wr])=>[J,or+Y,wr+Y]),l.isBufferDirty=!0,l.viewpointBufferRefreshNeeded=!0),D=k}else if(q){s.preventDefault();const Y=Math.round((M-(q||0))*v.getYOfTotal()*P());v.canScrollY(Y)&&(v.setY(([J,or,wr])=>[J,or+Y,wr+Y]),l.isBufferDirty=!0,l.viewpointBufferRefreshNeeded=!0),q=M}else if(hr){s.preventDefault();const Y=m.force>0?m.force:.1,J=k+I(),or=M+gr();if(fr=Math.log(Y+1)*l.lineWidthFactor()*.2+fr*.8,Q.push({x:J,y:or,lineWidth:fr,color:l.tool()===V.erase?"erase":l.color()}),pr(Q),h.onDrawing){const wr={x:J,y:or,pressure:Y,hasForce:!0};ir()&&(wr.touch=he(ve({},m),{type:ir()})),h.onDrawing(Q,wr)}}}},me=s=>{const m=s.pageX*P(),k=s.pageY*P(),M=nr,L=K;if(nr=typeof D=="number"||v.isHitScrollX(m,k),K=typeof q=="number"||v.isHitScrollY(m,k),(M!==nr||L!==K)&&(l.isBufferDirty=!0),D){s.preventDefault();const B=Math.round((m-(D||0))*v.getXOfTotal()*P());v.canScrollX(B)&&(v.setX(([Y,J,or])=>[Y,J+B,or+B]),l.isBufferDirty=!0,l.viewpointBufferRefreshNeeded=!0),D=m}else if(q){s.preventDefault();const B=Math.round((k-(q||0))*v.getYOfTotal()*P());v.canScrollY(B)&&(v.setY(([Y,J,or])=>[Y,J+B,or+B]),l.isBufferDirty=!0,l.viewpointBufferRefreshNeeded=!0),q=k}else if(hr){s.preventDefault();const B=1,Y=m+I(),J=k+gr();if(fr=Math.log(B+1)*l.lineWidthFactor()*.2+fr*.8,Q.push({x:Y,y:J,lineWidth:fr,color:l.tool()===V.erase?"erase":l.color()}),pr(Q),h.onDrawing){const or={x:Y,y:J,pressure:B,hasForce:!1};h.onDrawing(Q,or)}}},ye=s=>{if(s.touches.length===1){const m=s.touches[0],k=m.pageX*P(),M=m.pageY*P();if(D=void 0,q=void 0,hr){const L=m.force>0?m.force:.1;hr=!1,Q=[],fr=0,pr(Q);const B=k+I(),Y=M+gr();if(h.onEnd){const J={x:B,y:Y,pressure:L,hasForce:!0};ir()&&(J.touch=he(ve({},m),{type:ir()})),h.onEnd(J)}}}},Qr=s=>{const k=s.pageX*P(),M=s.pageY*P();D=void 0,q=void 0;const L=k+I(),B=M+gr();if(hr=!1,Q=[],fr=0,pr(Q),h.onEnd){const Y={x:L,y:B,pressure:1,hasForce:!1};h.onEnd(Y)}},jr=s=>{if(nr){s.preventDefault();const m=s.deltaY;v.canScrollX(m)&&(v.setX(([k,M,L])=>[k,M+m,L+m]),l.viewpointBufferRefreshNeeded=!0,l.isBufferDirty=!0)}else if(K){s.preventDefault();const m=s.deltaY;v.canScrollY(m)&&(v.setY(([k,M,L])=>[k,M+m,L+m]),l.viewpointBufferRefreshNeeded=!0,l.isBufferDirty=!0)}else if(s.shiftKey){if(s.preventDefault(),s.deltaX!==0){const m=s.deltaX;v.canScrollX(m)&&(v.setX(([k,M,L])=>[k,M+m,L+m]),l.viewpointBufferRefreshNeeded=!0,l.isBufferDirty=!0)}if(s.deltaY!==0){const m=s.deltaY;v.canScrollY(m)&&(v.setY(([k,M,L])=>[k,M+m,L+m]),l.viewpointBufferRefreshNeeded=!0,l.isBufferDirty=!0)}}},Kr=s=>{s.preventDefault();let m,k;if(typeof s.touches!="undefined")if(s.touches.length===1){const M=s.touches[0];m=M.pageX*P(),k=M.pageY*P()}else return;else m=s.pageX*P(),k=s.pageY*P();D=m,q=k},re=s=>{s.preventDefault();let m,k;if(typeof s.touches!="undefined")if(s.touches.length===1){const M=s.touches[0];m=M.pageX*P(),k=M.pageY*P()}else return;else m=s.pageX*P(),k=s.pageY*P();if(D){const M=-Math.round((m-(D||0))*v.getXOfTotal()*P());v.canScrollX(M)&&(v.setX(([L,B,Y])=>[L,B+M,Y+M]),l.isBufferDirty=!0,l.viewpointBufferRefreshNeeded=!0),D=m}if(q){const M=-Math.round((k-(q||0))*v.getYOfTotal()*P());v.canScrollY(M)&&(v.setY(([L,B,Y])=>[L,B+M,Y+M]),l.isBufferDirty=!0,l.viewpointBufferRefreshNeeded=!0),q=k}l.viewpointBufferRefreshNeeded=!0},ee=s=>{s.preventDefault(),D=void 0,q=void 0,l.isBufferDirty=!0},we=s=>{b(void 0),l.tool()===V.pen||l.tool()===V.erase?pe(s):l.tool()===V.hand&&Kr(s)},$e=s=>{const m=s.touches[0].touchType||"direct";b(m==="direct"?ge.direct:ge.stylus),l.tool()===V.pen||l.tool()===V.erase?de(s):l.tool()===V.hand&&Kr(s)},Wr=s=>{l.tool()===V.pen||l.tool()===V.erase?be(s):l.tool()===V.hand&&re(s)},ke=s=>{l.tool()===V.pen||l.tool()===V.erase?me(s):l.tool()===V.hand&&re(s)},ae=s=>{l.tool()===V.pen||l.tool()===V.erase?ye(s):l.tool()===V.hand&&ee(s)},_e=s=>{l.tool()===V.pen||l.tool()===V.erase?Qr(s):l.tool()===V.hand&&ee(s)},xe=s=>{if(h.onContextMenu){s.preventDefault();const m=s.pageX*P(),k=s.pageY*P(),M=m+I(),L=k+gr();h.onContextMenu({pageX:s.pageX,pageY:s.pageY,broadX:M,broadY:L,devicePixelRatio:P()})}};je(()=>{if(h.onTouchTypeChanged){const s=ir();s&&h.onTouchTypeChanged(s)}}),je(()=>{Zr()}),je(()=>{l.tool()===V.hand?x.style.cursor="grab":x.style.cursor="default"}),Pr(()=>{const s=x.getContext("2d");s?(U=s,s.strokeStyle="black"):console.error("browser does not support 2d context")}),Pr(()=>{const s=document.querySelector("body");s&&s.classList.add("draw-broad-body")}),Vr(()=>{const s=document.querySelector("body");s&&s.classList.remove("draw-broad-body")}),Pr(()=>Z());const qr=()=>{Zr()};return Pr(()=>{l.offscreen.addEventListener("resize",qr)}),Vr(()=>{l.offscreen.removeEventListener("resize",qr)}),(()=>{const s=Gu.cloneNode(!0);s.addEventListener("mouseleave",Jr),s.addEventListener("wheel",jr),s.$$contextmenu=xe,s.$$mouseup=_e,s.addEventListener("touchcancel",ae),s.$$touchend=ae,s.$$mousemove=ke,s.$$touchmove=Wr,s.$$mousedown=we,s.$$touchstart=$e;const m=x;return typeof m=="function"?m(s):x=s,s})()};Bu(["touchstart","mousedown","touchmove","mousemove","touchend","mouseup","contextmenu"]);export{V as D,Vu as a,Ju as b};
//# sourceMappingURL=index.d4193fce.js.map
