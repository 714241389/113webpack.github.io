{"version":3,"file":"index.22d4961c.js","sources":["../../node_modules/@suid/material/CardHeader/cardHeaderClasses.js","../../node_modules/@suid/material/CardHeader/CardHeader.jsx","../../node_modules/@suid/material/ListItemIcon/listItemIconClasses.js","../../node_modules/@suid/material/ListItemIcon/ListItemIcon.jsx","../../src/helpers/jumpback.ts","../../node_modules/@nanostores/solid/dist/index.mjs","../../src/pages/Login/configure_supabase.tsx","../../node_modules/@suid/material/Link/linkClasses.js","../../node_modules/@suid/material/Link/Link.jsx","../../node_modules/@suid/icons-material/Password.jsx","../../node_modules/@suid/icons-material/ArrowBack.jsx","../../src/pages/Login/index.tsx"],"sourcesContent":["import { generateUtilityClass, generateUtilityClasses } from \"@suid/base\";\nexport function getCardHeaderUtilityClass(slot) {\n    return generateUtilityClass(\"MuiCardHeader\", slot);\n}\nconst cardHeaderClasses = generateUtilityClasses(\"MuiCardHeader\", [\"root\", \"avatar\", \"action\", \"content\", \"title\", \"subheader\"]);\nexport default cardHeaderClasses;\n","import Typography from \"../Typography\";\nimport styled from \"../styles/styled\";\nimport cardHeaderClasses, { getCardHeaderUtilityClass, } from \"./cardHeaderClasses\";\nimport createComponentFactory from \"@suid/base/createComponentFactory\";\nimport clsx from \"clsx\";\nimport { children, createMemo, Show } from \"solid-js\";\nconst $ = createComponentFactory()({\n    name: \"MuiCardHeader\",\n    selfPropNames: [\n        \"action\",\n        \"avatar\",\n        \"classes\",\n        \"disableTypography\",\n        \"subheader\",\n        \"subheaderTypographyProps\",\n        \"title\",\n        \"titleTypographyProps\",\n    ],\n    propDefaults: ({ set }) => set({\n        component: \"div\",\n        disableTypography: false,\n    }),\n    utilityClass: getCardHeaderUtilityClass,\n    slotClasses: () => ({\n        root: [\"root\"],\n        avatar: [\"avatar\"],\n        action: [\"action\"],\n        content: [\"content\"],\n        title: [\"title\"],\n        subheader: [\"subheader\"],\n    }),\n});\nconst CardHeaderRoot = styled(\"div\", {\n    name: \"MuiCardHeader\",\n    slot: \"Root\",\n    overridesResolver: (props, styles) => ({\n        [`& .${cardHeaderClasses.title}`]: styles.title,\n        [`& .${cardHeaderClasses.subheader}`]: styles.subheader,\n        ...styles.root,\n    }),\n})({\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: 16,\n});\nconst CardHeaderAvatar = styled(\"div\", {\n    name: \"MuiCardHeader\",\n    slot: \"Avatar\",\n    overridesResolver: (props, styles) => styles.avatar,\n})({\n    display: \"flex\",\n    flex: \"0 0 auto\",\n    marginRight: 16,\n});\nconst CardHeaderAction = styled(\"div\", {\n    name: \"MuiCardHeader\",\n    slot: \"Action\",\n    overridesResolver: (props, styles) => styles.action,\n})({\n    flex: \"0 0 auto\",\n    alignSelf: \"flex-start\",\n    marginTop: -4,\n    marginRight: -8,\n    marginBottom: -4,\n});\nconst CardHeaderContent = styled(\"div\", {\n    name: \"MuiCardHeader\",\n    slot: \"Content\",\n    overridesResolver: (props, styles) => styles.content,\n})({\n    flex: \"1 1 auto\",\n});\n/**\n *\n * Demos:\n *\n * - [Cards](https://mui.com/components/cards/)\n *\n * API:\n *\n * - [CardHeader API](https://mui.com/api/card-header/)\n */\nconst CardHeader = $.component(function CardHeader({ allProps, classes, otherProps, props, }) {\n    const isTypography = (v) => v instanceof HTMLElement && v.classList.contains(Typography.toString());\n    const Title = createMemo(() => {\n        const title = children(() => props.title)();\n        if (title !== undefined && !isTypography(title) && !props.disableTypography)\n            return (<Typography variant={props.avatar ? \"body2\" : \"h5\"} className={classes.title} component=\"span\" sx={{ display: \"block\" }} {...(props.titleTypographyProps ?? {})}>\n          {title}\n        </Typography>);\n        return title;\n    });\n    const Subheader = createMemo(() => {\n        const subheader = children(() => props.subheader)();\n        if (subheader !== undefined &&\n            !isTypography(subheader) &&\n            !props.disableTypography)\n            return (<Typography variant={props.avatar ? \"body2\" : \"body1\"} className={classes.subheader} component=\"span\" sx={{ display: \"block\", color: \"text.secondary\" }} {...(props.subheaderTypographyProps ?? {})}>\n          {subheader}\n        </Typography>);\n        return subheader;\n    });\n    return (<CardHeaderRoot {...otherProps} className={clsx(classes.root, otherProps.className)} ownerState={allProps}>\n      <Show when={!!props.avatar}>\n        <CardHeaderAvatar className={classes.avatar} ownerState={allProps}>\n          {props.avatar}\n        </CardHeaderAvatar>\n      </Show>\n\n      <CardHeaderContent className={classes.content} ownerState={allProps}>\n        {Title()}\n        {Subheader()}\n      </CardHeaderContent>\n\n      <Show when={!!props.action}>\n        <CardHeaderAction className={classes.action} ownerState={allProps}>\n          {props.action}\n        </CardHeaderAction>\n      </Show>\n    </CardHeaderRoot>);\n});\nexport default CardHeader;\n","import { generateUtilityClass, generateUtilityClasses } from \"@suid/base\";\nexport function getListItemIconUtilityClass(slot) {\n    return generateUtilityClass(\"MuiListItemIcon\", slot);\n}\nconst listItemIconClasses = generateUtilityClasses(\"MuiListItemIcon\", [\"root\", \"alignItemsFlexStart\"]);\nexport default listItemIconClasses;\n","import { useListContext } from \"../List/ListContext\";\nimport styled from \"../styles/styled\";\nimport { getListItemIconUtilityClass } from \"./listItemIconClasses\";\nimport createComponentFactory from \"@suid/base/createComponentFactory\";\nimport clsx from \"clsx\";\nimport { mergeProps } from \"solid-js\";\nconst $ = createComponentFactory()({\n    name: \"MuiListItemIcon\",\n    selfPropNames: [\"alignItems\", \"children\", \"classes\"],\n    propDefaults: ({ set }) => set({\n        component: \"div\",\n    }),\n    utilityClass: getListItemIconUtilityClass,\n    slotClasses: (ownerState) => ({\n        root: [\n            \"root\",\n            ownerState.alignItems === \"flex-start\" && \"alignItemsFlexStart\",\n        ],\n    }),\n});\nconst ListItemIconRoot = styled(\"div\", {\n    name: \"MuiListItemIcon\",\n    slot: \"Root\",\n    overridesResolver: (props, styles) => {\n        const { ownerState } = props;\n        return [\n            styles.root,\n            ownerState.alignItems === \"flex-start\" && styles.alignItemsFlexStart,\n        ];\n    },\n})(({ theme, ownerState }) => ({\n    minWidth: 56,\n    color: theme.palette.action.active,\n    flexShrink: 0,\n    display: \"inline-flex\",\n    ...(ownerState.alignItems === \"flex-start\" && {\n        marginTop: 8,\n    }),\n}));\n/**\n * A simple wrapper to apply `List` styles to an `Icon` or `SvgIcon`.\n *\n * Demos:\n *\n * - [Lists](https://mui.com/components/lists/)\n *\n * API:\n *\n * - [ListItemIcon API](https://mui.com/api/list-item-icon/)\n */\nconst ListItemIcon = $.component(function ListItemIcon({ allProps, classes, otherProps, props, }) {\n    const context = useListContext();\n    const ownerState = mergeProps({\n        get alignItems() {\n            return context.alignItems;\n        },\n    }, allProps);\n    return (<ListItemIconRoot {...otherProps} className={clsx(classes.root, otherProps.className)} ownerState={ownerState}>\n      {props.children}\n    </ListItemIconRoot>);\n});\nexport default ListItemIcon;\n","\nconst KEY = \"magicbroad_jumpbackto\";\n\nexport const setJumpback = (path: string) => {\n    window.localStorage.setItem(KEY, path);\n};\n\nexport const getJumpback = (): string | null  => {\n    return window.localStorage.getItem(KEY);\n};\n\nexport const clearJumpback = () => {\n    window.localStorage.removeItem(KEY);\n};\n\nexport const getAndClearJumpback = (): string | null => {\n    const path = getJumpback();\n    clearJumpback();\n    return path;\n};\n","import{createStore as m,reconcile as l}from\"solid-js/store\";import{createMemo as f,createSignal as p,onCleanup as c}from\"solid-js\";function s(e){return typeof e==\"object\"?e===null:typeof e!=\"function\"}function b(e){let t=e.get(),[o,r]=p(t),n=e.subscribe(i=>{r(i)});return c(()=>n()),o}function y(e){if(s(e.get()))return b(e);let t=e.get(),[o,r]=m(t),n=e.subscribe(i=>{let u=l(i);r(u)});return c(()=>n()),f(()=>o)}export{y as useStore};\n","import Card from \"@suid/material/Card\";\nimport Modal from \"@suid/material/Modal\";\nimport { Component, createEffect, createSignal } from \"solid-js\";\nimport { supabaseKey, supabaseURL } from \"../../stores/supabase\";\nimport { useStore } from \"@nanostores/solid\";\nimport TextField from \"@suid/material/TextField\";\nimport CardContent from \"@suid/material/CardContent\";\nimport CardActions from \"@suid/material/CardActions\";\nimport Typography from \"@suid/material/Typography\";\nimport Button from \"@suid/material/Button\";\nimport { createSupabase } from \"solid-supabase\";\nimport CardHeader from \"@suid/material/CardHeader\";\nimport ListItem from \"@suid/material/ListItem\";\nimport List from \"@suid/material/List\";\nimport Box from \"@suid/material/Box\";\nimport supabase_conf from \"../../configs/supabase_conf\";\n\ninterface Props {\n    open: boolean,\n    onClose: ((ev: Record<string, never>, reason: \"escapeKeyDown\" | \"backdropClick\" | \"configSet\") => void)\n}\n\nexport const SupabaseConfigurationDialog: Component<Props> = (props) => {\n    const [userUrl, setUserUrl] = createSignal<string>(\"\");\n    const [userKey, setUserKey] = createSignal<string>(\"\");\n    const url = useStore(supabaseURL);\n    const key = useStore(supabaseKey);\n    const supabase = createSupabase();\n\n    const confirmConfig = async () => {\n        supabaseURL.set(userUrl());\n        supabaseKey.set(userKey());\n        await supabase.auth.signOut();\n        await supabase.removeAllSubscriptions();\n        props.onClose({}, \"configSet\");\n    };\n\n    const setDefault = () => {\n        setUserKey(supabase_conf.key);\n        setUserUrl(supabase_conf.url);\n    };\n\n    createEffect(() => {\n        setUserUrl(url());\n        setUserKey(key());\n    });\n\n    return <Modal open={props.open} onClose={(ev, reason) => props.onClose(ev, reason)}>\n        <Card\n            sx={{\n                maxWidth: \"650px\",\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                transform: \"translate(-50%, -50%)\",\n                minWidth: \"300px\",\n            }}>\n            <CardHeader title=\"Enter Supabase Details\"></CardHeader>\n            <CardContent>\n                <Typography>This selection helps you use another supabase instance instead the built-in one.\n                    The instance used here must allow auth callback url.</Typography>\n                <List disablePadding>\n                    <ListItem>\n                        <TextField\n                            type=\"url\"\n                            sx={{width: \"100%\"}}\n                            variant=\"standard\"\n                            label=\"URL\"\n                            value={userUrl()}\n                            fullWidth={true}\n                            onChange={(ev) => setUserUrl(ev.target.value)} />\n                    </ListItem>\n                    <ListItem>\n                        <TextField\n                            sx={{width: \"100%\"}}\n                            variant=\"standard\"\n                            label=\"Anon Key\"\n                            value={userKey()}\n                            multiline={true}\n                            fullWidth={true}\n                            onChange={(ev) => setUserKey(ev.target.value)} />\n                    </ListItem>\n                </List>\n                <Typography>Your account will be signed out and unsaved progress will be lost.</Typography>\n            </CardContent>\n            <CardActions>\n                <Button onClick={setDefault}><Typography>Use Default</Typography></Button>\n                <Box sx={{flexGrow: 1}} />\n                <Button onClick={() => props.onClose({}, \"escapeKeyDown\")}><Typography>Cancel</Typography></Button>\n                <Button onClick={confirmConfig}><Typography>Set & Refresh</Typography></Button>\n            </CardActions>\n        </Card>\n    </Modal>;\n};\n","import { generateUtilityClass, generateUtilityClasses } from \"@suid/base\";\nexport function getLinkUtilityClass(slot) {\n    return generateUtilityClass(\"MuiLink\", slot);\n}\nconst linkClasses = generateUtilityClasses(\"MuiLink\", [\n    \"root\",\n    \"underlineNone\",\n    \"underlineHover\",\n    \"underlineAlways\",\n    \"button\",\n    \"focusVisible\",\n]);\nexport default linkClasses;\n","import Typography from \"../Typography\";\nimport styled from \"../styles/styled\";\nimport capitalize from \"../utils/capitalize\";\nimport linkClasses, { getLinkUtilityClass } from \"./linkClasses\";\nimport createComponentFactory from \"@suid/base/createComponentFactory\";\nimport { alpha } from \"@suid/system\";\nimport getThemeValue from \"@suid/system/getThemeValue\";\nimport useIsFocusVisible from \"@suid/utils/useIsFocusVisible\";\nimport clsx from \"clsx\";\nimport { createSignal, mergeProps } from \"solid-js\";\nconst $ = createComponentFactory()({\n    name: \"MuiLink\",\n    autoCallUseClasses: false,\n    selfPropNames: [\n        \"TypographyClasses\",\n        \"children\",\n        \"classes\",\n        \"color\",\n        \"underline\",\n        \"variant\",\n    ],\n    propDefaults: ({ set }) => set({\n        color: \"primary\",\n        component: \"a\",\n        underline: \"always\",\n        variant: \"inherit\",\n    }),\n    utilityClass: getLinkUtilityClass,\n    slotClasses: (ownerState) => ({\n        root: [\n            \"root\",\n            `underline${capitalize(ownerState.underline)}`,\n            ownerState.component === \"button\" && \"button\",\n            ownerState.focusVisible && \"focusVisible\",\n        ],\n    }),\n});\nconst colorTransformations = {\n    primary: \"primary.main\",\n    textPrimary: \"text.primary\",\n    secondary: \"secondary.main\",\n    textSecondary: \"text.secondary\",\n    error: \"error.main\",\n};\nconst transformDeprecatedColors = (color) => {\n    return colorTransformations[color] || color;\n};\nconst LinkRoot = styled(Typography, {\n    name: \"MuiLink\",\n    slot: \"Root\",\n    overridesResolver: (props, styles) => {\n        const { ownerState } = props;\n        return [\n            styles.root,\n            styles[`underline${capitalize(ownerState.underline)}`],\n            ownerState.component === \"button\" && styles.button,\n        ];\n    },\n})(({ theme, ownerState }) => {\n    const color = getThemeValue(theme, \"palette\", transformDeprecatedColors(ownerState.color)) || ownerState.color;\n    return {\n        ...(ownerState.underline === \"none\" && {\n            textDecoration: \"none\",\n        }),\n        ...(ownerState.underline === \"hover\" && {\n            textDecoration: \"none\",\n            \"&:hover\": {\n                textDecoration: \"underline\",\n            },\n        }),\n        ...(ownerState.underline === \"always\" && {\n            textDecoration: \"underline\",\n            textDecorationColor: color !== \"inherit\" ? alpha(color, 0.4) : undefined,\n            \"&:hover\": {\n                textDecorationColor: \"inherit\",\n            },\n        }),\n        // Same reset as ButtonBase.root\n        ...(ownerState.component === \"button\" && {\n            position: \"relative\",\n            WebkitTapHighlightColor: \"transparent\",\n            backgroundColor: \"transparent\",\n            // We disable the focus ring for mouse, touch and keyboard users.\n            outline: 0,\n            border: 0,\n            margin: 0,\n            borderRadius: 0,\n            padding: 0,\n            cursor: \"pointer\",\n            userSelect: \"none\",\n            verticalAlign: \"middle\",\n            MozAppearance: \"none\",\n            WebkitAppearance: \"none\",\n            \"&::-moz-focus-inner\": {\n                borderStyle: \"none\", // Remove Firefox dotted outline.\n            },\n            [`&.${linkClasses.focusVisible}`]: {\n                outline: \"auto\",\n            },\n        }),\n    };\n});\n/**\n *\n * Demos:\n *\n * - [Breadcrumbs](https://mui.com/components/breadcrumbs/)\n * - [Links](https://mui.com/components/links/)\n *\n * API:\n *\n * - [Link API](https://mui.com/api/link/)\n * - inherits [Typography API](https://mui.com/api/typography/)\n */\nconst Link = $.component(function Link({ allProps, otherProps, props }) {\n    const visible = useIsFocusVisible();\n    const [focusVisible, setFocusVisible] = createSignal(false);\n    const ownerState = mergeProps(allProps, {\n        get focusVisible() {\n            return focusVisible();\n        },\n    });\n    const classes = $.useClasses(ownerState);\n    return (<LinkRoot className={clsx(classes.root, otherProps.className)} classes={props.TypographyClasses} color={props.color} onBlur={(event) => {\n            visible.onBlur(event);\n            if (visible.isFocusVisibleRef.current === false) {\n                setFocusVisible(false);\n            }\n            if (typeof otherProps.onBlur === \"function\") {\n                otherProps.onBlur(event);\n            }\n        }} onFocus={(event) => {\n            visible.onFocus(event);\n            if (visible.isFocusVisibleRef.current === true) {\n                setFocusVisible(true);\n            }\n            if (typeof otherProps.onFocus === \"function\") {\n                otherProps.onFocus(event);\n            }\n        }} ownerState={allProps} variant={props.variant} {...otherProps} component={otherProps.component}>\n      {props.children}\n    </LinkRoot>);\n});\nexport default Link;\n","import $ from \"./utils/createSvgIcon\";\n\nexport default $(\n  () => (\n    <>\n      <g>\n        <path d=\"M0,0h24v24H0V0z\" fill=\"none\" />\n      </g>\n      <g>\n        <g>\n          <path d=\"M2,17h20v2H2V17z M3.15,12.95L4,11.47l0.85,1.48l1.3-0.75L5.3,10.72H7v-1.5H5.3l0.85-1.47L4.85,7L4,8.47L3.15,7l-1.3,0.75 L2.7,9.22H1v1.5h1.7L1.85,12.2L3.15,12.95z M9.85,12.2l1.3,0.75L12,11.47l0.85,1.48l1.3-0.75l-0.85-1.48H15v-1.5h-1.7l0.85-1.47 L12.85,7L12,8.47L11.15,7l-1.3,0.75l0.85,1.47H9v1.5h1.7L9.85,12.2z M23,9.22h-1.7l0.85-1.47L20.85,7L20,8.47L19.15,7l-1.3,0.75 l0.85,1.47H17v1.5h1.7l-0.85,1.48l1.3,0.75L20,11.47l0.85,1.48l1.3-0.75l-0.85-1.48H23V9.22z\" />\n        </g>\n      </g>\n    </>\n  ),\n  \"Password\"\n);\n","import $ from \"./utils/createSvgIcon\";\n\nexport default $(\n  () => (\n    <>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\n    </>\n  ),\n  \"ArrowBack\"\n);\n","import { Component, Match, Switch, createEffect, createSignal, onMount } from \"solid-js\";\nimport { createOnAuthStateChange, createSupabaseAuth } from \"solid-supabase\";\nimport { useNavigate, useSearchParams } from \"solid-app-router\";\nimport getDeviceId from \"../../helpers/getDeviceId\";\nimport Box from \"@suid/material/Box\";\n\nimport Card from \"@suid/material/Card\";\nimport Typography from \"@suid/material/Typography\";\nimport CardHeader from \"@suid/material/CardHeader\";\n\nimport List from \"@suid/material/List\";\nimport ListItem from \"@suid/material/ListItem\";\nimport ListItemButton from \"@suid/material/ListItemButton\";\nimport ListItemIcon from \"@suid/material/ListItemIcon\";\nimport ListItemText from \"@suid/material/ListItemText\";\nimport SvgIcon from \"@suid/material/SvgIcon\";\nimport { getAndClearJumpback, setJumpback } from \"../../helpers/jumpback\";\nimport { supabaseURL } from \"../../stores/supabase\";\nimport { useStore } from \"@nanostores/solid\";\nimport { SupabaseConfigurationDialog } from \"./configure_supabase\";\nimport Link from \"@suid/material/Link\";\nimport Password from \"@suid/icons-material/Password\";\nimport Toolbar from \"@suid/material/Toolbar\";\nimport IconButton from \"@suid/material/IconButton\";\nimport ArrowBack from \"@suid/icons-material/ArrowBack\";\nimport CardContent from \"@suid/material/CardContent\";\nimport TextField from \"@suid/material/TextField\";\nimport CardActions from \"@suid/material/CardActions\";\nimport Button from \"@suid/material/Button\";\nimport Title from \"../../widgets/Title\";\n\nenum LoginFlowState {\n    Start,\n    GitHubFlow,\n    PasswordFlow,\n}\n\ninterface LoginFlowStateCallback {\n    onRequestNext: ((ev: Record<string, never>, newFlow: LoginFlowState) => void)\n}\n\ntype LoginMethodCardProps = LoginFlowStateCallback;\n\nconst LoginMethodCard: Component<LoginMethodCardProps> = (props) => {\n    const iconSx = { width: 32, height: 32 };\n    return (<Card sx={{ minWidth: 300 }}>\n        <CardHeader title={<Typography variant=\"h6\">Sign in</Typography>} />\n        <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom >\n            <Box sx={{ width: \"100%\", minWidth: 360, bgcolor: \"background.paper\" }}>\n                <List>\n                    <ListItem disablePadding onClick={() => props.onRequestNext({}, LoginFlowState.GitHubFlow)} id=\"login-with-github\">\n                        <ListItemButton >\n                            <ListItemIcon>\n                                <SvgIcon sx={iconSx} viewBox=\"0 0 16 16\">\n                                    <path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path>\n                                </SvgIcon>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Sign in with GitHub\" />\n                        </ListItemButton>\n                    </ListItem>\n                    <ListItem disablePadding onClick={() => props.onRequestNext({}, LoginFlowState.PasswordFlow)} id=\"login-with-password\">\n                        <ListItemButton >\n                            <ListItemIcon>\n                                <Password  sx={iconSx}/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Sign in with password\" />\n                        </ListItemButton>\n                    </ListItem>\n                </List>\n            </Box>\n        </Typography>\n    </Card>);\n};\n\ntype EmailLoginCardProps = LoginFlowStateCallback;\n\nconst EmailLoginCard: Component<EmailLoginCardProps> = (props) => {\n    const [email, setEmail] = createSignal<string>(\"\");\n    const auth = createSupabaseAuth();\n    const [password, setPassword] = createSignal<string>(\"\");\n    const [accountError, setAccountError] = createSignal<boolean>(false);\n\n    const loginWithEmail = async () => {\n        setAccountError(false);\n        const url = new URL(window.location.href);\n        url.search = \"\";\n        const {error} = await auth.signIn({\n            email: email(),\n            password: password(),\n        }, {\n            redirectTo: url.toString(),\n        });\n        if (error) {\n            if (error.status === 400) {\n                setAccountError(true);\n            } else {\n                throw error;\n            }\n        }\n    };\n\n    createEffect(() => {\n        if (email().length === 0 || password().length === 0) {\n            setAccountError(false);\n        }\n    });\n\n    return (<Card sx={{minWidth: \"360px\"}}>\n        <Toolbar>\n            <IconButton\n                size=\"large\"\n                edge=\"start\"\n                color=\"inherit\"\n                sx={{mr: 2}}\n                onClick={() => props.onRequestNext({}, LoginFlowState.Start)}\n            ><ArrowBack /></IconButton>\n            <Typography variant=\"h6\" component=\"div\" sx={{flexGrow: 1}}>Sign in with your password</Typography>\n        </Toolbar>\n        <CardContent>\n            <List disablePadding>\n                <ListItem>\n                    <TextField\n                        fullWidth={true}\n                        label=\"Email Address\"\n                        variant=\"standard\"\n                        value={email()}\n                        onChange={\n                            (ev) => setEmail(ev.target.value)\n                        }\n                    />\n                </ListItem>\n                <ListItem>\n                    <TextField\n                        fullWidth={true}\n                        label=\"Password\"\n                        variant=\"standard\"\n                        value={password()}\n                        helperText={accountError() ? <Typography variant=\"inherit\" color=\"error\">Address or Password is Not Found</Typography>: undefined}\n                        error={accountError()}\n                        type=\"password\"\n                        onChange={\n                            (ev) => setPassword(ev.target.value)\n                        }\n                    />\n                </ListItem>\n            </List>\n        </CardContent>\n        <CardActions sx={{justifyContent: \"end\", marginX: \"14px\"}}>\n            <Button disabled={email().length === 0 || password().length === 0} id=\"sign-in-with-password-button\" sx={{right: 0}} variant=\"contained\" disableElevation onClick={loginWithEmail}>\n                <Typography>Sign in</Typography>\n            </Button>\n        </CardActions>\n        <Box sx={{height: \"12px\"}} />\n    </Card>);\n};\n\nconst Login: Component = () => {\n    const auth = createSupabaseAuth();\n    const navigate = useNavigate();\n    const [searchParams] = useSearchParams();\n    const supabaseServiceURL = useStore(supabaseURL);\n    const [supabaseConfigDialogOpen, setSupabaseConfigDialogOpen] = createSignal<boolean>(false);\n    const [flowState, setFlowState] = createSignal<LoginFlowState>(LoginFlowState.Start);\n\n    const signInWithGithub = async () => {\n        const url = new URL(window.location.href);\n        url.search = \"\";\n        await auth.signIn({\n            provider: \"github\",\n        }, {\n            redirectTo: url.toString(),\n        });\n    };\n\n    const onRequestNextStep = async (ev: Record<string, never>, newFlow: LoginFlowState) => {\n        setFlowState(newFlow);\n        if (newFlow === LoginFlowState.GitHubFlow) {\n            await signInWithGithub();\n        }\n    };\n\n    createOnAuthStateChange((_, session) => {\n        // Check again to force jump back.\n        if (session) {\n            getDeviceId(); // Ensure we have a device identity.\n            const jumpback = getAndClearJumpback();\n            if (session.user) {\n                navigate(jumpback || \"/\");\n            }\n        }\n    });\n\n    onMount(() => {\n        const nextJumpPath = searchParams[\"next\"];\n        if (nextJumpPath && nextJumpPath.length > 0 && nextJumpPath.startsWith(\"/\") && !auth.user()) {\n            setJumpback(nextJumpPath);\n        }\n    });\n\n    return (<>\n        <Title title=\"Magicborad: Sign in\"></Title>\n        <SupabaseConfigurationDialog open={supabaseConfigDialogOpen()}\n            onClose={(ev, reason) => {\n                if (reason === \"configSet\") {\n                    window.location.reload();\n                }\n                setSupabaseConfigDialogOpen(false);\n            }} />\n        <Box sx={{position: \"absolute\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\"}}>\n            <Switch>\n                <Match when={flowState() === LoginFlowState.Start}>\n                    <LoginMethodCard onRequestNext={onRequestNextStep} />\n                </Match>\n                <Match when={flowState() === LoginFlowState.PasswordFlow}>\n                    <EmailLoginCard onRequestNext={onRequestNextStep} />\n                </Match>\n            </Switch>\n            <Box sx={{textAlign: \"end\"}}>\n                <Link sx={{cursor: \"pointer\"}} onClick={() => setSupabaseConfigDialogOpen(true)}><Typography variant=\"caption\">Supabase Service: {new URL(supabaseServiceURL()).host}</Typography></Link>\n            </Box>\n        </Box>\n    </>);\n};\n\nexport default Login;\n"],"names":["$","createComponentFactory","name","selfPropNames","propDefaults","set","component","disableTypography","utilityClass","getCardHeaderUtilityClass","slotClasses","root","avatar","action","content","title","subheader","CardHeaderRoot","styled","slot","overridesResolver","props","styles","cardHeaderClasses","display","alignItems","padding","CardHeaderAvatar","flex","marginRight","CardHeaderAction","alignSelf","marginTop","marginBottom","CardHeaderContent","CardHeader","allProps","classes","otherProps","isTypography","v","HTMLElement","classList","contains","Typography","toString","Title","createMemo","children","undefined","_$mergeProps","titleTypographyProps","Subheader","color","subheaderTypographyProps","_$createComponent","clsx","className","_$memo","getListItemIconUtilityClass","ownerState","ListItemIconRoot","alignItemsFlexStart","theme","minWidth","palette","active","flexShrink","ListItemIcon","context","useListContext","mergeProps","KEY","setJumpback","path","localStorage","setItem","getJumpback","window","getItem","clearJumpback","removeItem","getAndClearJumpback","p","c","m","l","f","SupabaseConfigurationDialog","userUrl","setUserUrl","createSignal","userKey","setUserKey","url","useStore","supabaseURL","key","supabaseKey","supabase","createSupabase","confirmConfig","auth","signOut","removeAllSubscriptions","onClose","setDefault","supabase_conf","createEffect","open","ev","reason","maxWidth","position","top","left","transform","width","target","value","flexGrow","autoCallUseClasses","underline","variant","getLinkUtilityClass","capitalize","focusVisible","colorTransformations","primary","textPrimary","secondary","textSecondary","error","transformDeprecatedColors","LinkRoot","button","getThemeValue","textDecoration","textDecorationColor","alpha","WebkitTapHighlightColor","backgroundColor","outline","border","margin","borderRadius","cursor","userSelect","verticalAlign","MozAppearance","WebkitAppearance","borderStyle","linkClasses","Link","visible","useIsFocusVisible","setFocusVisible","useClasses","TypographyClasses","event","onBlur","isFocusVisibleRef","current","onFocus","_tmpl$","_tmpl$2","LoginFlowState","LoginMethodCard","iconSx","height","fontSize","bgcolor","onRequestNext","GitHubFlow","PasswordFlow","EmailLoginCard","email","setEmail","createSupabaseAuth","password","setPassword","accountError","setAccountError","loginWithEmail","URL","location","href","search","signIn","redirectTo","status","length","mr","Start","justifyContent","marginX","right","Login","navigate","useNavigate","searchParams","useSearchParams","supabaseServiceURL","supabaseConfigDialogOpen","setSupabaseConfigDialogOpen","flowState","setFlowState","signInWithGithub","provider","onRequestNextStep","newFlow","createOnAuthStateChange","_","session","getDeviceId","jumpback","user","onMount","nextJumpPath","startsWith","reload","textAlign","host"],"mappings":"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"}